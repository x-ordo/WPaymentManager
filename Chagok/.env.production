# CHAGOK - Production Environment Template
# Copy these values into your deployment environment or secret manager.
# NEVER commit real credentials.
#
# IMPORTANT: Replace all placeholder URLs with actual CloudFront/API Gateway domains:
#   - BACKEND_CORS_ORIGINS: Your CloudFront distribution URL
#   - API_BASE_URL: Your API Gateway or backend URL
#   - NEXT_PUBLIC_* URLs: Your CloudFront distribution URL

# =============================
# Backend Application
# =============================
APP_ENV=prod
APP_DEBUG=false
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000
BACKEND_LOG_LEVEL=INFO
API_BASE_URL=https://api.chagok.example.com
# IMPORTANT: Replace with your actual CloudFront distribution URL
# Example: https://d1234abcd.cloudfront.net
BACKEND_CORS_ORIGINS=https://app.chagok.cloudfront.net,https://admin.chagok.cloudfront.net

# =============================
# Authentication / JWT
# =============================
JWT_SECRET=REPLACE_WITH_64_CHAR_RANDOM_VALUE
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================
# Cookie Settings (Cross-Origin Auth)
# =============================
# CRITICAL for CloudFront + separate API domain:
# - COOKIE_SECURE=true is REQUIRED for HTTPS
# - COOKIE_SAMESITE=none is REQUIRED for cross-origin cookies
# - Without these, auth cookies won't be sent to the API
COOKIE_SECURE=true
COOKIE_SAMESITE=none
COOKIE_DOMAIN=

# Database (PostgreSQL)
DATABASE_URL=postgresql+psycopg2://leh_app:change_me@leh-prod-db.cluster-xxxxx.ap-northeast-2.rds.amazonaws.com:5432/leh_prod

# =============================
# AWS & Storage
# =============================
AWS_REGION=ap-northeast-2
AWS_ACCESS_KEY_ID=REPLACE_ME
AWS_SECRET_ACCESS_KEY=REPLACE_ME
S3_EVIDENCE_BUCKET=leh-evidence-prod
S3_EVIDENCE_PREFIX=cases/
DDB_EVIDENCE_TABLE=leh_evidence_prod
DYNAMODB_EVIDENCE_TABLE=leh_evidence_prod
DDB_CASE_SUMMARY_TABLE=leh_case_summary_prod

# =============================
# Qdrant Vector Store
# =============================
QDRANT_URL=https://xxxxxxxx-xxxxxxx.qdrant.paperspace.io
QDRANT_API_KEY=REPLACE_ME
QDRANT_COLLECTION=leh_evidence
QDRANT_COLLECTION_PREFIX=case_rag_
QDRANT_VECTOR_SIZE=1536
QDRANT_DEFAULT_TOP_K=5

# =============================
# OpenAI / LLM
# =============================
OPENAI_API_KEY=REPLACE_ME
OPENAI_API_BASE=https://api.openai.com/v1
OPENAI_MODEL_CHAT=gpt-4o-mini
OPENAI_MODEL_EMBEDDING=text-embedding-3-small
OPENAI_GPT_MODEL=gpt-4o-mini
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_MODEL_WHISPER=whisper-1

# =============================
# AI Worker Specific
# =============================
LAMBDA_AI_WORKER_FUNCTION=leh-ai-worker-prod
S3_DOWNLOAD_TMP_PATH=/tmp

# =============================
# Frontend (Next.js)
# =============================
NEXT_PUBLIC_APP_ENV=production
NEXT_PUBLIC_API_BASE_URL=https://api.chagok.example.com
NEXT_PUBLIC_APP_BASE_URL=https://app.chagok.cloudfront.net
