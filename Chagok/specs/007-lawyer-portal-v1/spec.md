# CHAGOK Lawyer Portal v1 ê¸°ëŠ¥ ëª…ì„¸ì„œ

**Feature Branch**: `007-lawyer-portal-v1`
**ë²„ì „**: v1.0
**ì‘ì„±ì¼**: 2025-12-08
**Status**: Draft
**ê´€ë ¨ ë¬¸ì„œ**: `docs/specs/PRD.md`, `docs/specs/ARCHITECTURE.md`, `docs/specs/API_SPEC.md`, `docs/specs/FRONTEND_SPEC.md`

---

## 0. ë¬¸ì„œ ê°œìš”

ë³¸ ë¬¸ì„œëŠ” CHAGOK(CHAGOK) Lawyer Portalì˜ **v1 ì™„ì„±í˜• ì„¤ê³„**ë¥¼ ì •ì˜í•œë‹¤.

**í•µì‹¬ ì‹ ê·œ ê¸°ëŠ¥**:
1. **ë‹¹ì‚¬ì ê´€ê³„ë„ (Party Relationship Graph)** - React Flow ê¸°ë°˜ ì‹œê°í™”
2. **ì¬ì‚°ë¶„í• í‘œ (Financial Asset Sheet)** - í•œêµ­ ì´í˜¼ ì¬ì‚°ë¶„í•  ì „ìš©
3. **ì ˆì°¨ ë‹¨ê³„ ëª¨ë¸ (Procedure Stage Model)** - í•œêµ­ ê°€ì‚¬ì†Œì†¡ë²• ê¸°ë°˜

**SSOT ì¤€ìˆ˜ ì›ì¹™**:
- ê¸°ì¡´ SSOT ë¬¸ì„œ(`PRD.md`, `ARCHITECTURE.md`, `API_SPEC.md`, `FRONTEND_SPEC.md`)ëŠ” ìˆ˜ì •í•˜ì§€ ì•ŠìŒ
- ë³¸ ë¬¸ì„œëŠ” SSOTì˜ **í™•ì¥(Extension)**ìœ¼ë¡œ ì‘ì„±ë¨
- `v1 optional` ë˜ëŠ” `v2 proposal` ëª…ì‹œ

---

## Clarifications

### Session 2025-12-08

- Q: Concurrent editing strategy for Party Relationship Graph? â†’ A: Last-write-wins (LWW) - no conflict handling in v1
- Q: Empty state for Party Relationship Graph? â†’ A: Empty canvas with "ì›ê³ /í”¼ê³  ì¶”ê°€í•˜ê¸°" CTA button + brief instruction
- Q: Access control for Party/Asset data? â†’ A: Reuse case_members model (OWNER/MEMBER=edit, VIEWER=read-only)
- Q: Save behavior for Party Graph edits? â†’ A: Auto-save with debounce (2-3ì´ˆ after last edit)
- Q: v1 optional features (Asset Sheet, Procedure Stage) scope? â†’ A: Stretch goal - implement after Party Graph if time permits

---

## 1. í˜ë¥´ì†Œë‚˜ ì •ì˜

### 1.1 Primary Persona: ë³€í˜¸ì‚¬ (Lawyer)

| ì†ì„± | ì„¤ëª… |
|------|------|
| **ì—­í• ** | ì´í˜¼ ì „ë¬¸ ë³€í˜¸ì‚¬ |
| **ì—°ë ¹ëŒ€** | 35-55ì„¸ |
| **ê¸°ìˆ  ìˆ˜ì¤€** | ì¤‘ê¸‰ (Excel, ê¸°ë³¸ ì›¹ì•± ì‚¬ìš© ê°€ëŠ¥) |
| **Pain Points** | ì¦ê±° ì •ë¦¬ ì‹œê°„ ê³¼ë‹¤, ë‹¹ì‚¬ì ê´€ê³„ íŒŒì•… ì–´ë ¤ì›€, ì¬ì‚°ë¶„í•  ê³„ì‚° ë³µì¡ |
| **í•µì‹¬ ë‹ˆì¦ˆ** | ì‚¬ê±´ ì „ì²´ ì¡°ë§, ë…¼ì ë³„ ì¦ê±° ì •ë¦¬, ìœ ì±…ì‚¬ìœ  ìë™ ë¶„ë¥˜ |

### 1.2 Secondary Persona: íŒŒë¼ë¦¬ê±¸ (Paralegal/Staff)

| ì†ì„± | ì„¤ëª… |
|------|------|
| **ì—­í• ** | ì¦ê±° ìˆ˜ì§‘ ë° ì •ë¦¬ ë‹´ë‹¹ |
| **ì—°ë ¹ëŒ€** | 25-40ì„¸ |
| **ê¸°ìˆ  ìˆ˜ì¤€** | ì¤‘ìƒê¸‰ |
| **Pain Points** | ë°˜ë³µì ì¸ ì¦ê±° ë¶„ë¥˜ ì‘ì—…, ë³€í˜¸ì‚¬ì™€ì˜ ì§„í–‰ìƒí™© ê³µìœ  ì–´ë ¤ì›€ |
| **í•µì‹¬ ë‹ˆì¦ˆ** | íš¨ìœ¨ì ì¸ ì¦ê±° ì—…ë¡œë“œ, ìë™ ë¶„ë¥˜, ì§„í–‰í˜„í™© ëŒ€ì‹œë³´ë“œ |

### 1.3 Tertiary Persona: ì˜ë¢°ì¸ (Client)

| ì†ì„± | ì„¤ëª… |
|------|------|
| **ì—­í• ** | ì´í˜¼ ì†Œì†¡ ë‹¹ì‚¬ì |
| **ì—°ë ¹ëŒ€** | 30-60ì„¸ |
| **ê¸°ìˆ  ìˆ˜ì¤€** | ì´ˆì¤‘ê¸‰ |
| **Pain Points** | ì§„í–‰ ìƒí™© ë¶ˆíˆ¬ëª…, ë³€í˜¸ì‚¬ì™€ ì†Œí†µ ì–´ë ¤ì›€ |
| **í•µì‹¬ ë‹ˆì¦ˆ** | ì‹¤ì‹œê°„ ì§„í–‰í˜„í™© í™•ì¸, ê°„í¸í•œ ì¦ê±° ì œì¶œ |

---

## 2. í•µì‹¬ ë‹ˆì¦ˆ (Top Needs)

### 2.1 ë³€í˜¸ì‚¬ í•µì‹¬ ë‹ˆì¦ˆ

| ìˆœìœ„ | ë‹ˆì¦ˆ | í˜„ì¬ Pain | ëª©í‘œ Gain |
|------|------|-----------|-----------|
| **N1** | ì‚¬ê±´ ê´€ê³„ ì¡°ë§ | ë‹¹ì‚¬ì ê´€ê³„ í…ìŠ¤íŠ¸ë¡œë§Œ íŒŒì•… | React Flowë¡œ ì‹œê°ì  ê´€ê³„ë„ |
| **N2** | ì¬ì‚°ë¶„í•  ê³„ì‚° | Excel ìˆ˜ì‘ì—… | ìë™ ê³„ì‚° + ë¶„í• ì•ˆ ì œì•ˆ |
| **N3** | ì ˆì°¨ ì§„í–‰ê´€ë¦¬ | ë²•ì› ì¼ì • ìˆ˜ë™ ê´€ë¦¬ | ë‹¨ê³„ë³„ ìë™ íŠ¸ë˜í‚¹ |
| **N4** | ì¦ê±° ê¸°ë°˜ ì´ˆì•ˆ | RAG ì—†ì´ ìˆ˜ë™ ì‘ì„± | ì¦ê±° ì¸ìš© ìë™í™” |

### 2.2 ê¸°ëŠ¥ë³„ ìš°ì„ ìˆœìœ„ ë§¤í•‘

```
N1 (ê´€ê³„ ì¡°ë§)  â†’ Party Relationship Graph [v1 í•„ìˆ˜]
N2 (ì¬ì‚°ë¶„í• )   â†’ Financial Asset Sheet [v1 optional]
N3 (ì ˆì°¨ê´€ë¦¬)   â†’ Procedure Stage Model [v1 optional]
N4 (ì´ˆì•ˆìƒì„±)   â†’ ê¸°ì¡´ SSOT Draft Preview í™•ì¥ [v2 proposal]
```

---

## 3. SSOT ì œì•½ ì¡°ê±´

### 3.1 ê¸°ì¡´ SSOT ì—”í‹°í‹° (ìˆ˜ì • ë¶ˆê°€)

| ë¬¸ì„œ | ì—”í‹°í‹° | ë¹„ê³  |
|------|--------|------|
| `PRD.md` | Evidence JSON Schema | DynamoDB ì €ì¥ í˜•ì‹ |
| `ARCHITECTURE.md` | S3 Event â†’ AI Worker íŒŒì´í”„ë¼ì¸ | ë³€ê²½ ë¶ˆê°€ |
| `API_SPEC.md` | `/cases`, `/evidence`, `/draft-preview` | ê¸°ì¡´ API ìœ ì§€ |
| `FRONTEND_SPEC.md` | EvidenceTimeline, DraftPreview ì»´í¬ë„ŒíŠ¸ | ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ ìœ ì§€ |

### 3.2 í™•ì¥ ê°€ëŠ¥ ì˜ì—­

| ì˜ì—­ | í™•ì¥ ë°©ì‹ | ì œì•½ |
|------|----------|------|
| **DB Schema** | ì‹ ê·œ í…Œì´ë¸” ì¶”ê°€ (RDS) | ê¸°ì¡´ í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ë³€ê²½ ê¸ˆì§€ |
| **API Endpoints** | ì‹ ê·œ ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€ | ê¸°ì¡´ ì—”ë“œí¬ì¸íŠ¸ ì‹œê·¸ë‹ˆì²˜ ìœ ì§€ |
| **Frontend Components** | ì‹ ê·œ ì»´í¬ë„ŒíŠ¸ ì¶”ê°€ | ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ props ìœ ì§€ |
| **DynamoDB** | ì‹ ê·œ attributes ì¶”ê°€ | ê¸°ì¡´ PK/SK ìœ ì§€ |

---

## 4. User Scenarios & Testing

### US1 - ë‹¹ì‚¬ì ê´€ê³„ë„ ìƒì„± ë° í¸ì§‘ (Priority: P1)

**As a** ë³€í˜¸ì‚¬,
**I want to** ì‹œê°ì ì¸ ë‹¹ì‚¬ì ê´€ê³„ë„ë¥¼ ìƒì„±í•˜ê³  í¸ì§‘í•  ìˆ˜ ìˆê¸°ë¥¼,
**So that** ë³µì¡í•œ ì´í˜¼ ì‚¬ê±´ì˜ ì¸ë¬¼ ê´€ê³„ë¥¼ í•œëˆˆì— íŒŒì•…í•  ìˆ˜ ìˆë‹¤.

**Acceptance Scenarios**:

1. **Given** ì‚¬ê±´ ìƒì„¸ í˜ì´ì§€ì—ì„œ, **When** "ê´€ê³„ë„" íƒ­ì„ í´ë¦­í•˜ë©´, **Then** React Flow ìº”ë²„ìŠ¤ê°€ í‘œì‹œëœë‹¤.
2. **Given** ë¹ˆ ê´€ê³„ë„ ìº”ë²„ìŠ¤ì—ì„œ, **When** "ë‹¹ì‚¬ì ì¶”ê°€" ë²„íŠ¼ì„ í´ë¦­í•˜ë©´, **Then** ì›ê³ /í”¼ê³ /ì œ3ì ìœ í˜•ì„ ì„ íƒí•  ìˆ˜ ìˆëŠ” ëª¨ë‹¬ì´ í‘œì‹œëœë‹¤.
3. **Given** ë‘ ê°œ ì´ìƒì˜ ë…¸ë“œê°€ ìˆì„ ë•Œ, **When** ë…¸ë“œ ê°„ ë“œë˜ê·¸ë¡œ ì—°ê²°í•˜ë©´, **Then** ê´€ê³„ ìœ í˜•(í˜¼ì¸/ë¶ˆë¥œ/ì¹œì¡± ë“±)ì„ ì„ íƒí•˜ëŠ” ëª¨ë‹¬ì´ í‘œì‹œëœë‹¤.
4. **Given** ê´€ê³„ ì—°ê²°ì„ ì´ ìˆì„ ë•Œ, **When** ì—°ê²°ì„ ì„ í´ë¦­í•˜ë©´, **Then** ê´€ê³„ ì„¸ë¶€ì •ë³´(ì‹œì‘ì¼, ì¢…ë£Œì¼, ë©”ëª¨)ë¥¼ í¸ì§‘í•  ìˆ˜ ìˆë‹¤.
5. **Given** ì™„ì„±ëœ ê´€ê³„ë„ê°€ ìˆì„ ë•Œ, **When** "ì €ì¥" ë²„íŠ¼ì„ í´ë¦­í•˜ë©´, **Then** ê´€ê³„ë„ê°€ ì„œë²„ì— ì €ì¥ë˜ê³  "ì €ì¥ ì™„ë£Œ" í† ìŠ¤íŠ¸ê°€ í‘œì‹œëœë‹¤.

---

### US2 - ì¬ì‚°ë¶„í• í‘œ ì‘ì„± (Priority: P2) [v1 optional]

**As a** ë³€í˜¸ì‚¬,
**I want to** ì‚¬ê±´ë³„ ì¬ì‚°ë¶„í• í‘œë¥¼ ì‘ì„±í•˜ê³  ë¶„í•  ë¹„ìœ¨ì„ ê³„ì‚°í•  ìˆ˜ ìˆê¸°ë¥¼,
**So that** ì¬ì‚°ë¶„í•  ì²­êµ¬ ê¸ˆì•¡ì„ ì •í™•í•˜ê²Œ ì‚°ì •í•  ìˆ˜ ìˆë‹¤.

**Acceptance Scenarios**:

1. **Given** ì‚¬ê±´ ìƒì„¸ í˜ì´ì§€ì—ì„œ, **When** "ì¬ì‚°ë¶„í• " íƒ­ì„ í´ë¦­í•˜ë©´, **Then** ì¬ì‚°ë¶„í• í‘œ í¸ì§‘ê¸°ê°€ í‘œì‹œëœë‹¤.
2. **Given** ì¬ì‚°ë¶„í• í‘œì—ì„œ, **When** "ìì‚° ì¶”ê°€" ë²„íŠ¼ì„ í´ë¦­í•˜ë©´, **Then** ìì‚° ìœ í˜•(ë¶€ë™ì‚°/ì˜ˆê¸ˆ/ì£¼ì‹/í‡´ì§ê¸ˆ/ë³´í—˜/ì°¨ëŸ‰/ê¸°íƒ€)ì„ ì„ íƒí•˜ê³  ìƒì„¸ì •ë³´ë¥¼ ì…ë ¥í•  ìˆ˜ ìˆë‹¤.
3. **Given** ì—¬ëŸ¬ ìì‚°ì´ ì…ë ¥ë˜ì—ˆì„ ë•Œ, **When** ë¶„í•  ë¹„ìœ¨(ì˜ˆ: 50:50)ì„ ì„¤ì •í•˜ë©´, **Then** ê° ë‹¹ì‚¬ìë³„ ë¶„í•  ì˜ˆì • ê¸ˆì•¡ì´ ìë™ ê³„ì‚°ëœë‹¤.
4. **Given** íŠ¹ìœ ì¬ì‚°ê³¼ ê³µë™ì¬ì‚°ì´ êµ¬ë¶„ë˜ì–´ ìˆì„ ë•Œ, **When** "ë¶„í• ì•ˆ ê³„ì‚°" ë²„íŠ¼ì„ í´ë¦­í•˜ë©´, **Then** í•œêµ­ ë¯¼ë²• ê¸°ì¤€ ë¶„í• ì•ˆì´ ì œì•ˆëœë‹¤.
5. **Given** ì™„ì„±ëœ ì¬ì‚°ë¶„í• í‘œê°€ ìˆì„ ë•Œ, **When** "Excel ë‚´ë³´ë‚´ê¸°"ë¥¼ í´ë¦­í•˜ë©´, **Then** ë²•ì› ì œì¶œìš© í˜•ì‹ì˜ Excel íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œëœë‹¤.

---

### US3 - ì ˆì°¨ ë‹¨ê³„ ê´€ë¦¬ (Priority: P2) [v1 optional]

**As a** ë³€í˜¸ì‚¬,
**I want to** ì‚¬ê±´ì˜ ì†Œì†¡ ì ˆì°¨ ë‹¨ê³„ë¥¼ íŠ¸ë˜í‚¹í•˜ê³  ë‹¤ìŒ ë‹¨ê³„ ì•¡ì…˜ì„ í™•ì¸í•  ìˆ˜ ìˆê¸°ë¥¼,
**So that** ë²•ì› ê¸°ì¼ ë° ì œì¶œ ê¸°í•œì„ ë†“ì¹˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.

**Acceptance Scenarios**:

1. **Given** ì‚¬ê±´ ìƒì„¸ í˜ì´ì§€ì—ì„œ, **When** "ì ˆì°¨ ì§„í–‰" íƒ­ì„ í´ë¦­í•˜ë©´, **Then** í˜„ì¬ ë‹¨ê³„ê°€ í•˜ì´ë¼ì´íŠ¸ëœ ì ˆì°¨ íƒ€ì„ë¼ì¸ì´ í‘œì‹œëœë‹¤.
2. **Given** ì ˆì°¨ íƒ€ì„ë¼ì¸ì—ì„œ, **When** íŠ¹ì • ë‹¨ê³„ë¥¼ í´ë¦­í•˜ë©´, **Then** í•´ë‹¹ ë‹¨ê³„ì˜ ìƒì„¸ì •ë³´(ì¼ì, ê²°ê³¼, ê´€ë ¨ ì„œë¥˜)ê°€ í‘œì‹œëœë‹¤.
3. **Given** í˜„ì¬ "ì¡°ì •" ë‹¨ê³„ì— ìˆì„ ë•Œ, **When** "ë‹¤ìŒ ë‹¨ê³„ë¡œ" ë²„íŠ¼ì„ í´ë¦­í•˜ë©´, **Then** ë‹¤ìŒ ë‹¨ê³„ ìœ í˜•(ì¡°ì •ì„±ë¦½/ë¶ˆì„±ë¦½â†’ë³¸ì•ˆì´í–‰) ì„ íƒ ëª¨ë‹¬ì´ í‘œì‹œëœë‹¤.
4. **Given** ê¸°ì¼ì´ ì„¤ì •ëœ ë‹¨ê³„ê°€ ìˆì„ ë•Œ, **When** ê¸°ì¼ 3ì¼ ì „ì´ ë˜ë©´, **Then** ì•Œë¦¼ì´ ë°œì†¡ë˜ê³  ëŒ€ì‹œë³´ë“œì— ê²½ê³  ë°°ì§€ê°€ í‘œì‹œëœë‹¤.

---

### US4 - ì¦ê±°-ë‹¹ì‚¬ì ì—°ê²° (Priority: P1)

**As a** ë³€í˜¸ì‚¬,
**I want to** ì¦ê±°ë¥¼ íŠ¹ì • ë‹¹ì‚¬ì ë˜ëŠ” ê´€ê³„ì— ì—°ê²°í•  ìˆ˜ ìˆê¸°ë¥¼,
**So that** ê´€ê³„ë„ì—ì„œ í•´ë‹¹ ë‹¹ì‚¬ì í´ë¦­ ì‹œ ê´€ë ¨ ì¦ê±°ë¥¼ ë°”ë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

**Acceptance Scenarios**:

1. **Given** ê´€ê³„ë„ì˜ íŠ¹ì • ë…¸ë“œ(ë‹¹ì‚¬ì)ë¥¼ í´ë¦­í–ˆì„ ë•Œ, **When** í•´ë‹¹ ë‹¹ì‚¬ìì— ì—°ê²°ëœ ì¦ê±°ê°€ ìˆìœ¼ë©´, **Then** ì¦ê±° ëª©ë¡ íŒì˜¤ë²„ê°€ í‘œì‹œëœë‹¤.
2. **Given** ì¦ê±° ìƒì„¸ ëª¨ë‹¬ì—ì„œ, **When** "ë‹¹ì‚¬ì ì—°ê²°" ë²„íŠ¼ì„ í´ë¦­í•˜ë©´, **Then** ê´€ê³„ë„ì˜ ë…¸ë“œ ëª©ë¡ì—ì„œ ì—°ê²°í•  ë‹¹ì‚¬ìë¥¼ ì„ íƒí•  ìˆ˜ ìˆë‹¤.
3. **Given** ê´€ê³„ ì—°ê²°ì„ (edge)ì„ í´ë¦­í–ˆì„ ë•Œ, **When** í•´ë‹¹ ê´€ê³„ì— ì—°ê²°ëœ ì¦ê±°ê°€ ìˆìœ¼ë©´, **Then** í•´ë‹¹ ê´€ê³„ë¥¼ ì¦ëª…í•˜ëŠ” ì¦ê±° ëª©ë¡ì´ í‘œì‹œëœë‹¤.

---

### 4.5 Lawyer Amenities - ë³€í˜¸ì‚¬ ì—…ë¬´í™˜ê²½ ê°œì„  (Priority: P2)

> **ì„¤ê³„ ì² í•™**: ì´í˜¼ ì „ë¬¸ ë³€í˜¸ì‚¬ëŠ” ê³ ê°•ë„ ê°ì •ë…¸ë™ê³¼ ì¥ì‹œê°„ ì„œë©´ ì‘ì—…ì— ë…¸ì¶œëœë‹¤. ì´ ì„¹ì…˜ì€ ë‹¨ìˆœ ê¸°ëŠ¥ ë‚˜ì—´ì´ ì•„ë‹Œ, **ì‹¤ì œ í”¼ë¡œì™€ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ì¤„ì´ëŠ” ê´€ì **ì—ì„œ ì„¤ê³„í•œë‹¤.

#### 4.5.1 ë³€í˜¸ì‚¬ê°€ ê²ªëŠ” ì‹¤ì œ Pain Points

| Pain Point | ë°œìƒ ìƒí™© | ì‹¬ë¦¬ì  ì˜í–¥ |
|------------|----------|------------|
| **ê¸°í•œ ë¶ˆì•ˆ** | ë‹µë³€ì„œÂ·ì¤€ë¹„ì„œë©´ ì œì¶œê¸°í•œì´ ì—¬ëŸ¬ ì‚¬ê±´ì—ì„œ ë™ì‹œë‹¤ë°œ | ìˆ˜ë©´ ì¥ì• , ë²ˆì•„ì›ƒ |
| **ì •ë³´ ë¶„ì‚°** | ì‚¬ê±´ë³„ë¡œ í©ì–´ì§„ ì¦ê±°/ë©”ëª¨/ì¼ì • | ì¸ì§€ ê³¼ë¶€í•˜ |
| **ì˜ë¢°ì¸ ì••ë°•** | "ì œ ì‚¬ê±´ ì–´ë–»ê²Œ ëë‚˜ìš”?" ë°˜ë³µ ì§ˆë¬¸ | ê°ì • ì†Œì§„ |
| **ì•¼ê°„ ì‘ì—…** | ë‚®ì—ëŠ” ì¬íŒ/ìƒë‹´, ë°¤ì— ì„œë©´ ì‘ì„± | ëˆˆ í”¼ë¡œ, ì§‘ì¤‘ë ¥ ì €í•˜ |
| **ë°˜ë³µ ì„¤ëª…** | ì–‘ìœ¡ë¹„/ìœ„ìë£Œ/ê¸°ê°„ ë“± ë§¤ë²ˆ ë¹„ìŠ·í•œ ì§ˆë¬¸ | ì‹œê°„ ë‚­ë¹„ |

#### 4.5.2 UI/UX ì–´ë©”ë‹ˆí‹°

##### A. ë‹¤í¬ ëª¨ë“œ (ëˆˆ í”¼ë¡œ ê°ì†Œ)

**ë¬¸ì œ**: ì¥ì‹œê°„ ë°ì€ í™”ë©´ â†’ ì•ˆêµ¬ê±´ì¡°, ë‘í†µ, ìˆ˜ë©´ íŒ¨í„´ êµë€

**ì†”ë£¨ì…˜**:
- ì‹œìŠ¤í…œ ì„¤ì • ìë™ ê°ì§€ (`prefers-color-scheme`)
- ìˆ˜ë™ í† ê¸€ (í—¤ë” ìš°ì¸¡ ì•„ì´ì½˜)
- 3ê°€ì§€ ëª¨ë“œ: Light / Dark / Auto

**êµ¬í˜„ ì„¸ë¶€**:
```typescript
// types/theme.ts
type ThemeMode = 'light' | 'dark' | 'auto';

// hooks/useTheme.ts
interface UseThemeReturn {
  mode: ThemeMode;
  setMode: (mode: ThemeMode) => void;
  isDark: boolean;  // ì‹¤ì œ ì ìš©ëœ ìƒíƒœ
}
```

**ìƒ‰ìƒ íŒ”ë ˆíŠ¸ (Dark Mode)**:
| Token | Light | Dark |
|-------|-------|------|
| `--color-bg-primary` | `#FFFFFF` | `#1A1A2E` |
| `--color-bg-secondary` | `#F5F7FA` | `#16213E` |
| `--color-text-primary` | `#1E1E2D` | `#E8E8E8` |
| `--color-border-default` | `#E5E7EB` | `#2D3748` |

---

##### B. ê¸€ë¡œë²Œ ê²€ìƒ‰ (Cmd/Ctrl + K)

**ë¬¸ì œ**: ìˆ˜ì‹­ ê°œ ì‚¬ê±´ì—ì„œ íŠ¹ì • ì˜ë¢°ì¸/ì¦ê±°/ì¼ì •ì„ ì°¾ìœ¼ë ¤ë©´ ì—¬ëŸ¬ í˜ì´ì§€ íƒìƒ‰ í•„ìš”

**ì†”ë£¨ì…˜**:
- `Cmd/Ctrl + K` ë‹¨ì¶•í‚¤ë¡œ ì–´ë””ì„œë“  ê²€ìƒ‰ íŒ”ë ˆíŠ¸ í˜¸ì¶œ
- í†µí•© ê²€ìƒ‰: ì‚¬ê±´ëª…, ì˜ë¢°ì¸ëª…, ì¦ê±° ìš”ì•½, ì¼ì •, ë©”ëª¨
- ìµœê·¼ ê²€ìƒ‰ì–´ + ìì£¼ ì ‘ê·¼ í•­ëª© í‘œì‹œ

**ê²€ìƒ‰ ë²”ìœ„**:
| ì¹´í…Œê³ ë¦¬ | ê²€ìƒ‰ ëŒ€ìƒ | í‘œì‹œ í˜•ì‹ |
|----------|----------|----------|
| ì‚¬ê±´ | title, description | ğŸ“ ì‚¬ê±´ëª… - ìƒíƒœ |
| ì˜ë¢°ì¸ | name, email, phone | ğŸ‘¤ ì´ë¦„ - ì—°ë½ì²˜ |
| ì¦ê±° | summary, labels | ğŸ“ ìš”ì•½ (ë‚ ì§œ) |
| ì¼ì • | title, court_reference | ğŸ“… ì¼ì •ëª… - ë‚ ì§œ |

**UI êµ¬ì„±**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” ì‚¬ê±´, ì˜ë¢°ì¸, ì¦ê±°, ì¼ì • ê²€ìƒ‰...          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ìµœê·¼ ê²€ìƒ‰                                   â”‚
â”‚   ê¹€â—‹â—‹ ì´í˜¼ ì‚¬ê±´                           â”‚
â”‚   ë¶€ë™ì‚° ë“±ê¸°ë¶€ë“±ë³¸                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ë°”ë¡œê°€ê¸°                                    â”‚
â”‚   ì˜¤ëŠ˜ ê¸°ì¼ì´ ìˆëŠ” ì‚¬ê±´ (2)                  â”‚
â”‚   ì´ë²ˆ ì£¼ ë§ˆê° ì‚¬ê±´ (5)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

##### C. í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤

**ë¬¸ì œ**: ë§ˆìš°ìŠ¤ ì´ë™ ë°˜ë³µ â†’ ì†ëª© í”¼ë¡œ, ì‘ì—… ì†ë„ ì €í•˜

**ë‹¨ì¶•í‚¤ í…Œì´ë¸”**:
| ë‹¨ì¶•í‚¤ | ë™ì‘ | ì ìš© ë²”ìœ„ |
|--------|------|----------|
| `Cmd/Ctrl + K` | ê¸€ë¡œë²Œ ê²€ìƒ‰ | ì „ì—­ |
| `Cmd/Ctrl + S` | ì €ì¥ | í¸ì§‘ í™”ë©´ |
| `Cmd/Ctrl + 1~5` | íƒ­ ì „í™˜ | ì‚¬ê±´ ìƒì„¸ |
| `Cmd/Ctrl + N` | ìƒˆ ì‚¬ê±´ ìƒì„± | ì‚¬ê±´ ëª©ë¡ |
| `Cmd/Ctrl + E` | ì¦ê±° ì—…ë¡œë“œ | ì‚¬ê±´ ìƒì„¸ |
| `Esc` | ëª¨ë‹¬ ë‹«ê¸° | ì „ì—­ |
| `?` | ë‹¨ì¶•í‚¤ ë„ì›€ë§ | ì „ì—­ |

**êµ¬í˜„**:
```typescript
// hooks/useKeyboardShortcuts.ts
const SHORTCUTS = {
  'mod+k': () => openCommandPalette(),
  'mod+s': () => saveCurrentDocument(),
  'mod+1': () => switchTab(0),
  // ...
};
```

---

##### D. ìë™ ì €ì¥ + ë²„ì „ ë³µêµ¬

**ë¬¸ì œ**: ë¸Œë¼ìš°ì € í¬ë˜ì‹œ/ì‹¤ìˆ˜ë¡œ íƒ­ ë‹«ê¸° â†’ ì‘ì—… ë‚´ìš© ì†ì‹¤ â†’ ê·¹ì‹¬í•œ ìŠ¤íŠ¸ë ˆìŠ¤

**ì†”ë£¨ì…˜**:
- **ìë™ ì €ì¥**: í¸ì§‘ í›„ 3ì´ˆ idle ì‹œ ìë™ ì €ì¥
- **ë²„ì „ ê¸°ë¡**: ìµœê·¼ 10ê°œ ë²„ì „ ìœ ì§€ (24ì‹œê°„ ë‚´)
- **ì¶©ëŒ ê°ì§€**: ë‹¤ë¥¸ ì‚¬ìš©ì í¸ì§‘ ì‹œ ì•Œë¦¼

**ìë™ ì €ì¥ ìƒíƒœ í‘œì‹œ**:
```
ì €ì¥ë¨ âœ“ 10ì´ˆ ì „
ì €ì¥ ì¤‘... â³
ì €ì¥ ì‹¤íŒ¨ âš ï¸ (ë‹¤ì‹œ ì‹œë„)
```

**ë²„ì „ ë³µêµ¬ UI**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ë²„ì „ ê¸°ë¡                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â— í˜„ì¬ ë²„ì „                          â”‚
â”‚ â—‹ 10ë¶„ ì „ - ìë™ ì €ì¥                â”‚
â”‚ â—‹ 30ë¶„ ì „ - ìë™ ì €ì¥                â”‚
â”‚ â—‹ 1ì‹œê°„ ì „ - ìˆ˜ë™ ì €ì¥               â”‚
â”‚                                     â”‚
â”‚ [ì´ ë²„ì „ìœ¼ë¡œ ë³µêµ¬]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### 4.5.3 ëŒ€ì‹œë³´ë“œ ì–´ë©”ë‹ˆí‹°

##### A. Today View (ì˜¤ëŠ˜ì˜ í•  ì¼)

**ë¬¸ì œ**: ì•„ì¹¨ì— ì¶œê·¼í•´ì„œ "ì˜¤ëŠ˜ ë­ë¶€í„° í•´ì•¼ í•˜ì§€?" ê²°ì • í”¼ë¡œ

**ì†”ë£¨ì…˜**:
- ëŒ€ì‹œë³´ë“œ ìµœìƒë‹¨ì— **Today Card** ê³ ì •
- ì˜¤ëŠ˜/ì´ë²ˆ ì£¼ ë°˜ë“œì‹œ í•´ì•¼ í•  ì¼ì„ ìš°ì„ ìˆœìœ„ë¡œ ì •ë ¬

**Today Card êµ¬ì„±**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Œ ì˜¤ëŠ˜ì˜ í•  ì¼ (2024.12.08 ì›”ìš”ì¼)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”´ ê¸´ê¸‰                                              â”‚
â”‚   â€¢ ê¹€â—‹â—‹ ì‚¬ê±´ ë‹µë³€ì„œ ì œì¶œ (ì˜¤ëŠ˜ 17:00 ë§ˆê°)          â”‚
â”‚   â€¢ ì´â—‹â—‹ ì‚¬ê±´ ë³€ë¡ ê¸°ì¼ (ì˜¤ì „ 10:30, ì„œìš¸ê°€ì •ë²•ì›)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸŸ¡ ì´ë²ˆ ì£¼                                           â”‚
â”‚   â€¢ ë°•â—‹â—‹ ì‚¬ê±´ ì¤€ë¹„ì„œë©´ (12/10 ë§ˆê°) - D-2           â”‚
â”‚   â€¢ ìµœâ—‹â—‹ ì‚¬ê±´ ì¡°ì •ê¸°ì¼ (12/11 14:00)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“Š ì§„í–‰ í˜„í™©: 8ê±´ ì¤‘ 3ê±´ ê¸°ì¼ ì„ë°•                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ìš°ì„ ìˆœìœ„ ë¡œì§**:
```typescript
interface TodoItem {
  case_id: string;
  type: 'deadline' | 'court_date' | 'task';
  due_date: string;
  priority: 'urgent' | 'high' | 'normal';
  title: string;
}

// ì •ë ¬ ê¸°ì¤€
// 1. ì˜¤ëŠ˜ ë§ˆê° > ì´ë²ˆ ì£¼ ë§ˆê° > ê·¸ ì™¸
// 2. ë²•ì› ê¸°ì¼ > ì„œë©´ ë§ˆê° > ì¼ë°˜ ì—…ë¬´
// 3. ë§ˆê°ì¼ ì˜¤ë¦„ì°¨ìˆœ
```

---

##### B. ìœ„í—˜ ì‚¬ê±´ í•˜ì´ë¼ì´íŠ¸

**ë¬¸ì œ**: ìˆ˜ì‹­ ê±´ ì¤‘ **ì§„ì§œ ìœ„í—˜í•œ ì‚¬ê±´**ì´ ë¬»í˜€ì„œ ë†“ì¹¨

**ìœ„í—˜ ì‚¬ê±´ ê¸°ì¤€**:
| ìœ„í—˜ ìœ í˜• | ì¡°ê±´ | í‘œì‹œ |
|----------|------|------|
| ğŸ”´ **ê¸°í•œ ì„ë°•** | ì œì¶œ ë§ˆê° D-3 ì´ë‚´ | ë¹¨ê°„ í…Œë‘ë¦¬ + ë°°ì§€ |
| ğŸŸ  **ìŸì  ë³µì¡** | ë‹¹ì‚¬ì 5ëª… ì´ìƒ ë˜ëŠ” ìì‚° 10ê±´ ì´ìƒ | ì£¼í™© ë¼ë²¨ |
| ğŸŸ¡ **ì¦ê±° ë¶€ì¡±** | ìœ ì±…ì‚¬ìœ  ë¼ë²¨ ìˆìœ¼ë‚˜ ì¦ê±° 3ê°œ ë¯¸ë§Œ | ë…¸ë‘ ê²½ê³  |
| ğŸ”µ **ì˜ë¢°ì¸ ë¶ˆì•ˆ** | ìµœê·¼ 7ì¼ ë‚´ ë©”ì‹œì§€ 5ê°œ ì´ìƒ | íŒŒë‘ ì•Œë¦¼ |

**ì‚¬ê±´ ëª©ë¡ í‘œì‹œ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”´ ê¹€â—‹â—‹ ì´í˜¼ ì‚¬ê±´                    D-2 ê¸°í•œì„ë°•   â”‚
â”‚    ë¶€ì •í–‰ìœ„ ì…ì¦ | ì¦ê±° 12ê±´ | ë‹¤ìŒ ê¸°ì¼: 12/10     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸŸ  ì´â—‹â—‹ ì´í˜¼ ì‚¬ê±´                    ìŸì ë³µì¡       â”‚
â”‚    ì¬ì‚°ë¶„í•  | ìì‚° 15ê±´ | ë‹¹ì‚¬ì 6ëª…               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    ë°•â—‹â—‹ ì´í˜¼ ì‚¬ê±´                                  â”‚
â”‚    ì–‘ìœ¡ê¶Œ | ì¦ê±° 8ê±´ | ë‹¤ìŒ ê¸°ì¼: 12/20           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

##### C. ì£¼ê°„ ìº˜ë¦°ë” ìœ„ì ¯

**ìœ„ì¹˜**: ëŒ€ì‹œë³´ë“œ ìš°ì¸¡ ì‚¬ì´ë“œë°”

**í‘œì‹œ ë‚´ìš©**:
- ì´ë²ˆ ì£¼ ë²•ì› ê¸°ì¼
- ì„œë©´ ì œì¶œ ë§ˆê°ì¼
- ì˜ë¢°ì¸ ìƒë‹´ ì¼ì •

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“… ì´ë²ˆ ì£¼          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì›” 08 â— ë³€ë¡ ê¸°ì¼    â”‚
â”‚ í™” 09               â”‚
â”‚ ìˆ˜ 10 â— ë‹µë³€ì„œ ë§ˆê° â”‚
â”‚ ëª© 11 â— ì¡°ì •ê¸°ì¼    â”‚
â”‚ ê¸ˆ 12               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### 4.5.4 ì˜ë¢°ì¸ ìŠ¤íŠ¸ë ˆìŠ¤ ì™„í™” ë„êµ¬

##### A. ì§„í–‰ ìƒíƒœ ìš”ì•½ ì¹´ë“œ (Explainer Card)

**ë¬¸ì œ**: ì˜ë¢°ì¸ì´ "ì œ ì‚¬ê±´ ì–´ë–»ê²Œ ëë‚˜ìš”?" ë¬¼ìœ¼ë©´ ë§¤ë²ˆ ì„¤ëª…ì— ì‹œê°„ ì†Œëª¨

**ì†”ë£¨ì…˜**:
- ì‚¬ê±´ë³„ **1ì¥ì§œë¦¬ ìš”ì•½ ì¹´ë“œ** ìë™ ìƒì„±
- ì˜ë¢°ì¸ í†µí™”/ìƒë‹´ ì‹œ í™”ë©´ ê³µìœ í•˜ê±°ë‚˜ PDFë¡œ ì „ì†¡

**ìš”ì•½ ì¹´ë“œ êµ¬ì„±**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            ì‚¬ê±´ ì§„í–‰ í˜„í™© ìš”ì•½                       â”‚
â”‚            ê¹€â—‹â—‹ ì´í˜¼ ì‚¬ê±´ (2024ê°€í•©12345)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ í˜„ì¬ ë‹¨ê³„: ì¡°ì • ì ˆì°¨ ì§„í–‰ ì¤‘                      â”‚
â”‚                                                     â”‚
â”‚ âœ… ì™„ë£Œëœ ë‹¨ê³„                                      â”‚
â”‚    â€¢ ì†Œì¥ ì ‘ìˆ˜ (2024.10.15)                        â”‚
â”‚    â€¢ ì†¡ë‹¬ ì™„ë£Œ (2024.10.25)                        â”‚
â”‚    â€¢ ë‹µë³€ì„œ ì ‘ìˆ˜ (2024.11.20)                      â”‚
â”‚                                                     â”‚
â”‚ ğŸ“Œ ë‹¤ìŒ ì¼ì •                                        â”‚
â”‚    â€¢ ì¡°ì •ê¸°ì¼: 2024.12.11 14:00                    â”‚
â”‚    â€¢ ì¥ì†Œ: ì„œìš¸ê°€ì •ë²•ì› 305í˜¸                       â”‚
â”‚                                                     â”‚
â”‚ ğŸ“Š ì¦ê±° í˜„í™©: 12ê±´ ìˆ˜ì§‘ ì™„ë£Œ                        â”‚
â”‚    â€¢ ë¶€ì •í–‰ìœ„ ê´€ë ¨ 8ê±´                             â”‚
â”‚    â€¢ ì¬ì‚°ë¶„í•  ê´€ë ¨ 4ê±´                             â”‚
â”‚                                                     â”‚
â”‚ ğŸ’¬ ë‹´ë‹¹ ë³€í˜¸ì‚¬: í™ê¸¸ë™ (02-1234-5678)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ìƒì„± ë°©ì‹**:
- **ìë™ ìƒì„±**: ì ˆì°¨ ë‹¨ê³„ ë³€ê²½ ì‹œ ìë™ ì—…ë°ì´íŠ¸
- **ìˆ˜ë™ í¸ì§‘**: ë³€í˜¸ì‚¬ê°€ ì½”ë©˜íŠ¸ ì¶”ê°€ ê°€ëŠ¥
- **ê³µìœ  ì˜µì…˜**: PDF ë‹¤ìš´ë¡œë“œ / ì´ë©”ì¼ ë°œì†¡ / ë§í¬ ê³µìœ 

---

##### B. FAQ ë‹µë³€ í…œí”Œë¦¿ + AI ì´ˆì•ˆ

**ë¬¸ì œ**: "ìœ„ìë£Œ ì–¼ë§ˆ ë°›ì„ ìˆ˜ ìˆë‚˜ìš”?", "ê¸°ê°„ì´ ì–¼ë§ˆë‚˜ ê±¸ë¦¬ë‚˜ìš”?" ë“± ë°˜ë³µ ì§ˆë¬¸

**ì†”ë£¨ì…˜**:
- **ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ í…œí”Œë¦¿** ë¯¸ë¦¬ ì¤€ë¹„
- **AI ê¸°ë°˜ ì´ˆì•ˆ**: í•´ë‹¹ ì‚¬ê±´ ë°ì´í„° ê¸°ë°˜ìœ¼ë¡œ ë§ì¶¤ ë‹µë³€ ìƒì„±

**FAQ í…œí”Œë¦¿ ì¹´í…Œê³ ë¦¬**:
| ì¹´í…Œê³ ë¦¬ | ì˜ˆì‹œ ì§ˆë¬¸ |
|----------|----------|
| **ìœ„ìë£Œ** | ìœ„ìë£Œ ì–¼ë§ˆ ë°›ì„ ìˆ˜ ìˆë‚˜ìš”? |
| **ì–‘ìœ¡ë¹„** | ì–‘ìœ¡ë¹„ ê¸°ì¤€ì€ ì–´ë–»ê²Œ ë˜ë‚˜ìš”? |
| **ì¬ì‚°ë¶„í• ** | ì§‘ì€ ëˆ„ê°€ ê°–ê²Œ ë˜ë‚˜ìš”? |
| **ê¸°ê°„** | ì†Œì†¡ ê¸°ê°„ì´ ì–¼ë§ˆë‚˜ ê±¸ë¦¬ë‚˜ìš”? |
| **ì ˆì°¨** | ì¡°ì •ì´ ë­”ê°€ìš”? ê¼­ í•´ì•¼ í•˜ë‚˜ìš”? |
| **ë¹„ìš©** | ë³€í˜¸ì‚¬ ë¹„ìš© ì™¸ì— ì¶”ê°€ ë¹„ìš©ì´ ìˆë‚˜ìš”? |

**AI ì´ˆì•ˆ ìƒì„±**:
```typescript
interface FAQDraftRequest {
  case_id: string;
  question_type: 'alimony' | 'child_support' | 'property' | 'duration' | 'procedure' | 'cost';
  additional_context?: string;
}

interface FAQDraftResponse {
  draft_text: string;
  citations: Array<{
    source: 'evidence' | 'law' | 'precedent';
    reference: string;
  }>;
  disclaimer: string;  // "ë³¸ ë‚´ìš©ì€ ì°¸ê³ ìš©ì´ë©°..."
}
```

**UI ì˜ˆì‹œ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¬ ì˜ë¢°ì¸ FAQ ë‹µë³€ ìƒì„±                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì§ˆë¬¸ ìœ í˜•: [ìœ„ìë£Œ â–¼]                              â”‚
â”‚                                                     â”‚
â”‚ ğŸ“ AI ì´ˆì•ˆ                                         â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ ê·€í•˜ì˜ ì‚¬ê±´ì—ì„œ ìœ„ìë£ŒëŠ” ìƒëŒ€ë°©ì˜ ìœ ì±…ì‚¬ìœ (ë¶€ì •í–‰ìœ„) â”‚
â”‚ ì…ì¦ ì •ë„ì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤. í˜„ì¬ í™•ë³´ëœ ì¦ê±°ë¡œëŠ”   â”‚
â”‚ ì•½ 3,000ë§Œ ì› ~ 5,000ë§Œ ì› ìˆ˜ì¤€ì„ ì˜ˆìƒí•  ìˆ˜ ìˆìœ¼ë‚˜,â”‚
â”‚ ìµœì¢… ê¸ˆì•¡ì€ ë²•ì›ì˜ íŒë‹¨ì— ë”°ë¦…ë‹ˆë‹¤.                â”‚
â”‚                                                     â”‚
â”‚ [ğŸ“‹ ë³µì‚¬] [âœï¸ í¸ì§‘] [ğŸ“¤ ì˜ë¢°ì¸ì—ê²Œ ì „ì†¡]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### 4.5.5 User Stories (Amenities)

##### US5 - ë‹¤í¬ ëª¨ë“œ í† ê¸€ (Priority: P2)

**As a** ì•¼ê°„ ì‘ì—…ì´ ë§ì€ ë³€í˜¸ì‚¬,
**I want to** ë‹¤í¬ ëª¨ë“œë¥¼ ì¼¤ ìˆ˜ ìˆê¸°ë¥¼,
**So that** ì¥ì‹œê°„ ì„œë©´ ì‘ì—… ì‹œ ëˆˆ í”¼ë¡œë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.

**Acceptance Scenarios**:
1. **Given** ì‹œìŠ¤í…œ ì„¤ì •ì´ ë‹¤í¬ ëª¨ë“œì¼ ë•Œ, **When** ì•±ì„ ì²˜ìŒ ì—´ë©´, **Then** ìë™ìœ¼ë¡œ ë‹¤í¬ ëª¨ë“œê°€ ì ìš©ëœë‹¤.
2. **Given** í—¤ë”ì˜ í…Œë§ˆ í† ê¸€ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´, **When** ëª¨ë“œê°€ ë³€ê²½ë˜ë©´, **Then** ì¦‰ì‹œ ì „ì²´ UI ìƒ‰ìƒì´ ì „í™˜ëœë‹¤.
3. **Given** ìˆ˜ë™ìœ¼ë¡œ ë¼ì´íŠ¸ ëª¨ë“œë¥¼ ì„ íƒí–ˆì„ ë•Œ, **When** ë‹¤ìŒì— ì•±ì„ ì—´ë©´, **Then** ì‚¬ìš©ì ì„¤ì •ì´ ìœ ì§€ëœë‹¤.

---

##### US6 - ê¸€ë¡œë²Œ ê²€ìƒ‰ (Priority: P2)

**As a** ë‹¤ìˆ˜ ì‚¬ê±´ì„ ë‹´ë‹¹í•˜ëŠ” ë³€í˜¸ì‚¬,
**I want to** ì–´ë””ì„œë“  ë¹ ë¥´ê²Œ ê²€ìƒ‰í•  ìˆ˜ ìˆê¸°ë¥¼,
**So that** íŠ¹ì • ì˜ë¢°ì¸ì´ë‚˜ ì¦ê±°ë¥¼ ì¦‰ì‹œ ì°¾ì„ ìˆ˜ ìˆë‹¤.

**Acceptance Scenarios**:
1. **Given** ì–´ë–¤ í˜ì´ì§€ì—ì„œë“ , **When** `Cmd/Ctrl + K`ë¥¼ ëˆ„ë¥´ë©´, **Then** ê²€ìƒ‰ íŒ”ë ˆíŠ¸ê°€ í‘œì‹œëœë‹¤.
2. **Given** ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ë©´, **When** 0.5ì´ˆ í›„, **Then** ì‚¬ê±´/ì˜ë¢°ì¸/ì¦ê±° í†µí•© ê²€ìƒ‰ ê²°ê³¼ê°€ í‘œì‹œëœë‹¤.
3. **Given** ê²€ìƒ‰ ê²°ê³¼ì—ì„œ í•­ëª©ì„ í´ë¦­í•˜ë©´, **When** í•´ë‹¹ í˜ì´ì§€ë¡œ ì´ë™í•˜ê³ , **Then** ê²€ìƒ‰ íŒ”ë ˆíŠ¸ê°€ ë‹«íŒë‹¤.

---

##### US7 - Today View (Priority: P2)

**As a** ë°”ìœ ë³€í˜¸ì‚¬,
**I want to** ì˜¤ëŠ˜ í•´ì•¼ í•  ì¼ì„ í•œëˆˆì— ë³¼ ìˆ˜ ìˆê¸°ë¥¼,
**So that** ì•„ì¹¨ì— ì¶œê·¼í•´ì„œ ë°”ë¡œ ì¤‘ìš”í•œ ì¼ë¶€í„° ì‹œì‘í•  ìˆ˜ ìˆë‹¤.

**Acceptance Scenarios**:
1. **Given** ëŒ€ì‹œë³´ë“œì— ì ‘ì†í•˜ë©´, **When** ì˜¤ëŠ˜ ë§ˆê°/ê¸°ì¼ì´ ìˆìœ¼ë©´, **Then** Today Card ìµœìƒë‹¨ì— ê¸´ê¸‰ í•­ëª©ìœ¼ë¡œ í‘œì‹œëœë‹¤.
2. **Given** ì´ë²ˆ ì£¼ ë§ˆê°ì´ ìˆìœ¼ë©´, **When** Today Cardë¥¼ ë³´ë©´, **Then** D-day ì¹´ìš´íŠ¸ì™€ í•¨ê»˜ í‘œì‹œëœë‹¤.
3. **Given** ëª¨ë“  í•­ëª©ì„ ì™„ë£Œí•˜ë©´, **When** Today Cardë¥¼ ë³´ë©´, **Then** "ì˜¤ëŠ˜ í•  ì¼ì„ ëª¨ë‘ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤" ë©”ì‹œì§€ê°€ í‘œì‹œëœë‹¤.

---

##### US8 - ì§„í–‰ ìƒíƒœ ìš”ì•½ ì¹´ë“œ (Priority: P3)

**As a** ì˜ë¢°ì¸ ìƒë‹´ì´ ë§ì€ ë³€í˜¸ì‚¬,
**I want to** ì‚¬ê±´ ì§„í–‰ ìƒí™©ì„ 1ì¥ìœ¼ë¡œ ìš”ì•½í•œ ì¹´ë“œë¥¼ ìƒì„±í•  ìˆ˜ ìˆê¸°ë¥¼,
**So that** ì˜ë¢°ì¸ì—ê²Œ ì‰½ê²Œ ì„¤ëª…í•˜ê³  ê³µìœ í•  ìˆ˜ ìˆë‹¤.

**Acceptance Scenarios**:
1. **Given** ì‚¬ê±´ ìƒì„¸ í˜ì´ì§€ì—ì„œ, **When** "ìš”ì•½ ì¹´ë“œ ìƒì„±" ë²„íŠ¼ì„ í´ë¦­í•˜ë©´, **Then** í˜„ì¬ ìƒíƒœ ê¸°ë°˜ ìš”ì•½ ì¹´ë“œê°€ í‘œì‹œëœë‹¤.
2. **Given** ìš”ì•½ ì¹´ë“œê°€ ìƒì„±ë˜ë©´, **When** "PDF ë‹¤ìš´ë¡œë“œ"ë¥¼ í´ë¦­í•˜ë©´, **Then** A4 í¬ê¸° PDF íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œëœë‹¤.
3. **Given** ìš”ì•½ ì¹´ë“œì—ì„œ, **When** "ì˜ë¢°ì¸ì—ê²Œ ì „ì†¡"ì„ í´ë¦­í•˜ë©´, **Then** ì´ë©”ì¼ ë°œì†¡ ëª¨ë‹¬ì´ í‘œì‹œëœë‹¤.

---

#### 4.5.6 ê¸°ìˆ  êµ¬í˜„ ìš”ì•½

| ê¸°ëŠ¥ | í”„ë¡ íŠ¸ì—”ë“œ | ë°±ì—”ë“œ | ìš°ì„ ìˆœìœ„ |
|------|-----------|--------|----------|
| ë‹¤í¬ ëª¨ë“œ | CSS Variables + Context | - | P2 |
| ê¸€ë¡œë²Œ ê²€ìƒ‰ | cmdk ë¼ì´ë¸ŒëŸ¬ë¦¬ | `/search` API | P2 |
| í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ | useKeyboardShortcuts hook | - | P2 |
| ìë™ ì €ì¥ | useDebouncedSave hook | PATCH API | P2 |
| Today View | TodayCard ì»´í¬ë„ŒíŠ¸ | `/dashboard/today` API | P2 |
| ìœ„í—˜ ì‚¬ê±´ | RiskBadge ì»´í¬ë„ŒíŠ¸ | risk í•„ë“œ ê³„ì‚° ë¡œì§ | P2 |
| ìš”ì•½ ì¹´ë“œ | ExplainerCard ì»´í¬ë„ŒíŠ¸ | `/cases/{id}/summary` API | P3 |
| FAQ í…œí”Œë¦¿ | FAQTemplates ì»´í¬ë„ŒíŠ¸ | `/faq/draft` API (AI) | P3 |

---

#### 4.5.7 í”¼ë¡œ ê°ì†Œ íš¨ê³¼ ì¸¡ì • ì§€í‘œ

| ì§€í‘œ | ì¸¡ì • ë°©ë²• | ëª©í‘œ |
|------|----------|------|
| **ê²€ìƒ‰ ì‹œê°„ ë‹¨ì¶•** | ê²€ìƒ‰ íŒ”ë ˆíŠ¸ ì‚¬ìš©ë¥  ì¶”ì  | í‰ê·  íƒìƒ‰ ì‹œê°„ 50% ê°ì†Œ |
| **ê¸°í•œ ì¤€ìˆ˜ìœ¨** | ë§ˆê° D-0 ì œì¶œ vs D-3 ì œì¶œ ë¹„ìœ¨ | D-3 ì´ì „ ì œì¶œ 80% ì´ìƒ |
| **ì˜ë¢°ì¸ ë¬¸ì˜ ì‘ëŒ€ ì‹œê°„** | FAQ í…œí”Œë¦¿ ì‚¬ìš©ë¥  | ì‘ëŒ€ ì‹œê°„ 40% ë‹¨ì¶• |
| **ì•¼ê°„ ì‘ì—… ì‹œê°„** | ë‹¤í¬ ëª¨ë“œ í™œì„±í™” ì‹œê°„ëŒ€ ë¶„ì„ | 18ì‹œ ì´í›„ ì‚¬ìš©ì ë§Œì¡±ë„ ì¡°ì‚¬ |

---

## 5. ì‹ ê·œ ê¸°ëŠ¥ ìƒì„¸

### 5.1 Party Relationship Graph [v1 í•„ìˆ˜]

#### 5.1.1 ê°œìš”

React Flow ê¸°ë°˜ì˜ ëŒ€í™”í˜• ë‹¹ì‚¬ì ê´€ê³„ë„ ì‹œê°í™” ì»´í¬ë„ŒíŠ¸.

#### 5.1.2 ë…¸ë“œ ìœ í˜• (Party Types)

| ìœ í˜• | ì•„ì´ì½˜ | ì„¤ëª… | ìƒ‰ìƒ |
|------|--------|------|------|
| `plaintiff` | ì› | ì›ê³  (ì˜ë¢°ì¸) | `--color-primary` |
| `defendant` | ì‚¬ê°í˜• | í”¼ê³  (ìƒëŒ€ë°©) | `--color-danger` |
| `third_party` | ë‹¤ì´ì•„ëª¬ë“œ | ì œ3ì (ë¶ˆë¥œìƒëŒ€, ì¦ì¸ ë“±) | `--color-warning` |
| `child` | ì‘ì€ ì› | ìë…€ | `--color-success` |
| `family` | ìœ¡ê°í˜• | ì¹œì¡± | `--color-secondary` |

#### 5.1.3 ì—£ì§€ ìœ í˜• (Relationship Types)

| ìœ í˜• | ë¼ë²¨ | ìŠ¤íƒ€ì¼ | ë¯¼ë²• ì¡°í•­ |
|------|------|--------|----------|
| `marriage` | í˜¼ì¸ | ì‹¤ì„  (ë‘êº¼ì›€) | - |
| `affair` | ë¶ˆë¥œê´€ê³„ | ì ì„  (ë¹¨ê°•) | ì œ840ì¡° 1í˜¸ |
| `parent_child` | ë¶€ëª¨-ìë…€ | ì‹¤ì„  (ì„¸ë¡œ) | - |
| `sibling` | í˜•ì œìë§¤ | ì ì„  (íšŒìƒ‰) | - |
| `in_law` | ì¸ì²™ | ì ì„  (íŒŒë‘) | - |
| `cohabit` | ë™ê±° | íŒŒì„  | - |

#### 5.1.4 ë…¸ë“œ ë°ì´í„° êµ¬ì¡°

```typescript
interface PartyNode {
  id: string;                    // UUID
  case_id: string;               // FK â†’ cases.id
  type: 'plaintiff' | 'defendant' | 'third_party' | 'child' | 'family';
  name: string;                  // ì‹¤ëª… ë˜ëŠ” ê°€ëª…
  alias?: string;                // ì†Œì¥ìš© ê°€ëª… (ê¹€â—‹â—‹)
  birth_year?: number;           // ìƒë…„
  occupation?: string;           // ì§ì—…
  position: { x: number; y: number };  // React Flow ì¢Œí‘œ
  metadata?: Record<string, unknown>;
  created_at: string;
  updated_at: string;
}
```

#### 5.1.5 ë™ì‹œì„± ëª¨ë¸

**Concurrency Strategy:** Last-write-wins (LWW)
- ë³µìˆ˜ ì‚¬ìš©ìê°€ ë™ì‹œ í¸ì§‘ ì‹œ ë§ˆì§€ë§‰ ì €ì¥ì´ ìš°ì„ 
- v1ì—ì„œëŠ” ì¶©ëŒ ê°ì§€/ì•Œë¦¼ ë¯¸êµ¬í˜„
- ì‹¤ë¬´ìƒ ë‹¨ì¼ ë‹´ë‹¹ìê°€ ê´€ê³„ë„ í¸ì§‘í•˜ëŠ” íŒ¨í„´ì— ì í•©

#### 5.1.6 UI ìƒíƒœ ì²˜ë¦¬

**Empty State (ë‹¹ì‚¬ì ì—†ìŒ):**
- ë¹ˆ ìº”ë²„ìŠ¤ + ì¤‘ì•™ì— "ì›ê³ /í”¼ê³  ì¶”ê°€í•˜ê¸°" CTA ë²„íŠ¼
- ê°„ë‹¨í•œ ì•ˆë‚´ í…ìŠ¤íŠ¸: "ë‹¹ì‚¬ìë¥¼ ì¶”ê°€í•˜ì—¬ ê´€ê³„ë„ë¥¼ ì‹œì‘í•˜ì„¸ìš”"
- CTA í´ë¦­ ì‹œ ë‹¹ì‚¬ì ì¶”ê°€ ëª¨ë‹¬ í‘œì‹œ

**Loading State:**
- ìŠ¤ì¼ˆë ˆí†¤ ìº”ë²„ìŠ¤ í‘œì‹œ

**Error State:**
- ì—ëŸ¬ ë©”ì‹œì§€ + "ë‹¤ì‹œ ì‹œë„" ë²„íŠ¼

**Auto-Save Behavior:**
- ëª¨ë“  í¸ì§‘(ë…¸ë“œ ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ, ì—£ì§€ ë³€ê²½, ìœ„ì¹˜ ì´ë™)ì€ debounce 2-3ì´ˆ í›„ ìë™ ì €ì¥
- ì €ì¥ ì¤‘: ìƒíƒœ í‘œì‹œ ì•„ì´ì½˜ (spinner)
- ì €ì¥ ì™„ë£Œ: "ì €ì¥ë¨" í‘œì‹œ (2ì´ˆ í›„ fade out)
- ì €ì¥ ì‹¤íŒ¨: ì—ëŸ¬ í† ìŠ¤íŠ¸ + ì¬ì‹œë„ ë²„íŠ¼

#### 5.1.7 ì—£ì§€ ë°ì´í„° êµ¬ì¡°

```typescript
interface PartyRelationship {
  id: string;                    // UUID
  case_id: string;               // FK â†’ cases.id
  source_party_id: string;       // FK â†’ party_nodes.id
  target_party_id: string;       // FK â†’ party_nodes.id
  type: 'marriage' | 'affair' | 'parent_child' | 'sibling' | 'in_law' | 'cohabit';
  start_date?: string;           // ISO8601
  end_date?: string;             // ISO8601
  notes?: string;
  evidence_ids?: string[];       // ê´€ë ¨ ì¦ê±° ID ëª©ë¡
  created_at: string;
  updated_at: string;
}
```

---

### 5.2 Financial Asset Sheet [v1 optional]

#### 5.2.1 ê°œìš”

í•œêµ­ ì´í˜¼ ì¬ì‚°ë¶„í•  ì „ìš© ìŠ¤í”„ë ˆë“œì‹œíŠ¸í˜• ì—ë””í„°.

#### 5.2.2 ìì‚° ë¶„ë¥˜ ì²´ê³„

| ëŒ€ë¶„ë¥˜ | ì¤‘ë¶„ë¥˜ | í•œêµ­ë²• íŠ¹ì´ì‚¬í•­ |
|--------|--------|-----------------|
| **ë¶€ë™ì‚°** | ì•„íŒŒíŠ¸, ì£¼íƒ, í† ì§€, ìƒê°€ | ì·¨ë“ì‹œê¸°/íŠ¹ìœ ì¬ì‚° ì—¬ë¶€ |
| **ê¸ˆìœµìì‚°** | ì˜ˆê¸ˆ, ì ê¸ˆ, ì£¼ì‹, í€ë“œ, ê°€ìƒìì‚° | ëª…ì˜ì, í˜•ì„± ê¸°ì—¬ë„ |
| **í‡´ì§ê¸‰ì—¬** | í‡´ì§ê¸ˆ, í‡´ì§ì—°ê¸ˆ | í˜¼ì¸ê¸°ê°„ ë¹„ë¡€ ë¶„í•  |
| **ë³´í—˜** | ìƒëª…ë³´í—˜, ì†í•´ë³´í—˜ | í•´ì•½í™˜ê¸‰ê¸ˆ ê¸°ì¤€ |
| **ë™ì‚°** | ì°¨ëŸ‰, ê·€ê¸ˆì†, ê°€ì „ | ê°ê°€ìƒê° ì ìš© |
| **ì±„ë¬´** | ì£¼íƒë‹´ë³´ëŒ€ì¶œ, ì‹ ìš©ëŒ€ì¶œ | ê³µë™ì±„ë¬´/ê°œì¸ì±„ë¬´ êµ¬ë¶„ |
| **íŠ¹ìœ ì¬ì‚°** | í˜¼ì „ì¬ì‚°, ìƒì†/ì¦ì—¬ | ë¶„í• ëŒ€ìƒ ì œì™¸ |

#### 5.2.3 ìì‚° ë°ì´í„° êµ¬ì¡°

```typescript
interface Asset {
  id: string;                    // UUID
  case_id: string;               // FK â†’ cases.id
  category: 'real_estate' | 'financial' | 'retirement' | 'insurance' | 'movable' | 'debt' | 'separate';
  subcategory: string;           // ì¤‘ë¶„ë¥˜
  name: string;                  // ìì‚°ëª…
  owner: 'plaintiff' | 'defendant' | 'joint';
  acquisition_date?: string;     // ì·¨ë“ì¼
  acquisition_type?: 'purchase' | 'inheritance' | 'gift' | 'salary' | 'other';
  current_value: number;         // í˜„ì¬ í‰ê°€ì•¡ (ì›)
  marriage_date_value?: number;  // í˜¼ì¸ì¼ ê¸°ì¤€ ê°€ì¹˜
  contribution_plaintiff?: number;  // ì›ê³  ê¸°ì—¬ìœ¨ (0-100)
  contribution_defendant?: number;  // í”¼ê³  ê¸°ì—¬ìœ¨ (0-100)
  is_separate_property: boolean; // íŠ¹ìœ ì¬ì‚° ì—¬ë¶€
  notes?: string;
  evidence_ids?: string[];       // ê´€ë ¨ ì¦ê±° ID
  created_at: string;
  updated_at: string;
}
```

#### 5.2.4 ë¶„í•  ê³„ì‚° ë¡œì§

```typescript
interface DivisionCalculation {
  case_id: string;
  total_joint_assets: number;          // ê³µë™ì¬ì‚° í•©ê³„
  total_separate_plaintiff: number;    // ì›ê³  íŠ¹ìœ ì¬ì‚°
  total_separate_defendant: number;    // í”¼ê³  íŠ¹ìœ ì¬ì‚°
  total_debts: number;                 // ì´ ì±„ë¬´
  net_divisible: number;               // ë¶„í• ëŒ€ìƒ ìˆœì¬ì‚°
  division_ratio: {
    plaintiff: number;                 // ì›ê³  ë¶„í• ë¹„ìœ¨ (0-100)
    defendant: number;                 // í”¼ê³  ë¶„í• ë¹„ìœ¨ (0-100)
  };
  plaintiff_share: number;             // ì›ê³  ë¶„í• ì•¡
  defendant_share: number;             // í”¼ê³  ë¶„í• ì•¡
  settlement_amount?: number;          // ì •ì‚°ê¸ˆ (ì–‘ìˆ˜: í”¼ê³ â†’ì›ê³ )
  calculated_at: string;
}
```

---

### 5.3 Procedure Stage Model [v1 optional]

#### 5.3.1 ê°œìš”

í•œêµ­ ê°€ì‚¬ì†Œì†¡ë²• ê¸°ë°˜ ì´í˜¼ì†Œì†¡ ì ˆì°¨ ë‹¨ê³„ ëª¨ë¸.

#### 5.3.2 ì ˆì°¨ ë‹¨ê³„ ì •ì˜

| ë‹¨ê³„ | ì½”ë“œ | ì„¤ëª… | í‰ê·  ì†Œìš”ê¸°ê°„ |
|------|------|------|---------------|
| ì†Œì¥ ì ‘ìˆ˜ | `filed` | ì†Œì¥ ì œì¶œ ì™„ë£Œ | - |
| ì†¡ë‹¬ | `served` | í”¼ê³ ì—ê²Œ ì†Œì¥ ì†¡ë‹¬ | 1-2ì£¼ |
| ë‹µë³€ì„œ | `answered` | í”¼ê³  ë‹µë³€ì„œ ì œì¶œ | 30ì¼ |
| ì¡°ì • íšŒë¶€ | `mediation` | ì¡°ì • ì ˆì°¨ ì§„í–‰ | 2-3ê°œì›” |
| ì¡°ì • ì¢…ê²° | `mediation_closed` | ì„±ë¦½/ë¶ˆì„±ë¦½/ì·¨í•˜ | - |
| ë³¸ì•ˆ ì´í–‰ | `trial` | ë³€ë¡ ê¸°ì¼ ì§„í–‰ | 3-6ê°œì›” |
| íŒê²° ì„ ê³  | `judgment` | 1ì‹¬ íŒê²° | - |
| í•­ì†Œì‹¬ | `appeal` | 2ì‹¬ ì§„í–‰ (ì„ íƒ) | 6ê°œì›” |
| í™•ì • | `final` | íŒê²° í™•ì • | - |

#### 5.3.3 ì ˆì°¨ ë‹¨ê³„ ë°ì´í„° êµ¬ì¡°

```typescript
interface ProcedureStage {
  id: string;                    // UUID
  case_id: string;               // FK â†’ cases.id
  stage: string;                 // ë‹¨ê³„ ì½”ë“œ
  status: 'pending' | 'in_progress' | 'completed' | 'skipped';
  scheduled_date?: string;       // ì˜ˆì •ì¼
  completed_date?: string;       // ì™„ë£Œì¼
  court_reference?: string;      // ë²•ì› ì‚¬ê±´ë²ˆí˜¸
  judge_name?: string;           // ë‹´ë‹¹ íŒì‚¬
  notes?: string;
  documents?: {                  // ê´€ë ¨ ì„œë¥˜
    name: string;
    s3_key: string;
    uploaded_at: string;
  }[];
  created_at: string;
  updated_at: string;
}
```

#### 5.3.4 ì ˆì°¨ íë¦„ (State Machine)

```mermaid
stateDiagram-v2
    [*] --> filed: ì†Œì¥ ì œì¶œ
    filed --> served: ì†¡ë‹¬ ì™„ë£Œ
    served --> answered: ë‹µë³€ì„œ ì ‘ìˆ˜
    answered --> mediation: ì¡°ì • íšŒë¶€
    mediation --> mediation_closed: ì¡°ì • ì¢…ê²°
    mediation_closed --> trial: ë¶ˆì„±ë¦½ ì‹œ
    mediation_closed --> final: ì„±ë¦½ ì‹œ
    trial --> judgment: ë³€ë¡  ì¢…ê²°
    judgment --> appeal: í•­ì†Œ
    judgment --> final: í™•ì •
    appeal --> final: 2ì‹¬ í™•ì •
```

---

## 6. ë„ë©”ì¸ ëª¨ë¸ (í™•ì¥)

### 6.1 ì‹ ê·œ ì—”í‹°í‹° (RDS PostgreSQL)

ê¸°ì¡´ SSOTì˜ `users`, `cases`, `case_members`, `audit_log` í…Œì´ë¸”ì€ ìœ ì§€í•˜ê³ , ì•„ë˜ í…Œì´ë¸”ì„ **ì¶”ê°€**í•œë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SSOT ê¸°ì¡´ ì—”í‹°í‹° (ìœ ì§€)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  users â”€â”€â”¬â”€â”€ case_members â”€â”€â”€â”€ cases â”€â”€â”€â”€ audit_log             â”‚
â”‚          â”‚                       â”‚                               â”‚
â”‚          â”‚                       â”‚                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚    v1 í™•ì¥ ì—”í‹°í‹°      â”‚                               â”‚
â”‚          â”‚                       â”‚                               â”‚
â”‚          â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚          â”‚              â”‚                 â”‚                      â”‚
â”‚          â”‚        party_nodes      party_relationships           â”‚
â”‚          â”‚              â”‚                 â”‚                      â”‚
â”‚          â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚          â”‚                       â”‚                               â”‚
â”‚          â”‚                 â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”                         â”‚
â”‚          â”‚                 â”‚           â”‚                         â”‚
â”‚          â”‚              assets    procedure_stages               â”‚
â”‚          â”‚                 â”‚           â”‚                         â”‚
â”‚          â”‚                 â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚          â”‚                       â”‚                               â”‚
â”‚          â”‚              evidence_party_links                     â”‚
â”‚          â”‚           (evidence â†” party ì—°ê²°)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 ERD (Mermaid)

```mermaid
erDiagram
    cases ||--o{ party_nodes : "has"
    cases ||--o{ assets : "has"
    cases ||--o{ procedure_stages : "has"

    party_nodes ||--o{ party_relationships : "source"
    party_nodes ||--o{ party_relationships : "target"
    party_nodes ||--o{ evidence_party_links : "linked_to"

    assets ||--o{ evidence_party_links : "supported_by"

    party_relationships ||--o{ evidence_party_links : "proven_by"

    cases {
        uuid id PK
        string title
        string status
        timestamp created_at
    }

    party_nodes {
        uuid id PK
        uuid case_id FK
        enum type
        string name
        string alias
        integer birth_year
        json position
        timestamp created_at
    }

    party_relationships {
        uuid id PK
        uuid case_id FK
        uuid source_party_id FK
        uuid target_party_id FK
        enum type
        date start_date
        date end_date
        text notes
        timestamp created_at
    }

    assets {
        uuid id PK
        uuid case_id FK
        enum category
        string name
        enum owner
        bigint current_value
        integer contribution_plaintiff
        boolean is_separate_property
        timestamp created_at
    }

    procedure_stages {
        uuid id PK
        uuid case_id FK
        enum stage
        enum status
        date scheduled_date
        date completed_date
        string court_reference
        timestamp created_at
    }

    evidence_party_links {
        uuid id PK
        uuid case_id FK
        string evidence_id
        uuid party_id FK
        uuid relationship_id FK
        uuid asset_id FK
        enum link_type
        timestamp created_at
    }
```

### 6.3 DynamoDB í™•ì¥ (Evidence JSON)

ê¸°ì¡´ Evidence JSON Schemaì— **optional í•„ë“œ ì¶”ê°€** (ê¸°ì¡´ í•„ë“œ ìœ ì§€):

```json
{
  "evidence_id": "uuid",
  "case_id": "case123",
  "type": "image",
  "timestamp": "2024-12-25T10:20:00Z",
  "speaker": "ì›ê³ ",
  "labels": ["ë¶€ì •í–‰ìœ„"],
  "summary": "...",
  "content": "...",
  "s3_key": "cases/123/evidence/abc.jpg",
  "qdrant_vector_id": "op_123",

  "_v1_extension": {
    "linked_party_ids": ["party_001", "party_002"],
    "linked_relationship_id": "rel_001",
    "linked_asset_ids": ["asset_001"]
  }
}
```

---

## 7. Use Case íë¦„

### 7.1 UC1: ê´€ê³„ë„ ìƒì„± íë¦„

```
[ë³€í˜¸ì‚¬] ì‚¬ê±´ ìƒì„¸ í˜ì´ì§€ ì§„ì…
    â†“
[FE] GET /cases/{id} â†’ ê¸°ì¡´ API
    â†“
[FE] GET /cases/{id}/parties â†’ ì‹ ê·œ API
    â†“
[FE] React Flow ìº”ë²„ìŠ¤ ë Œë”ë§
    â†“
[ë³€í˜¸ì‚¬] "ì›ê³  ì¶”ê°€" ë²„íŠ¼ í´ë¦­
    â†“
[FE] ë‹¹ì‚¬ì ì…ë ¥ ëª¨ë‹¬ í‘œì‹œ
    â†“
[ë³€í˜¸ì‚¬] ì •ë³´ ì…ë ¥ í›„ ì €ì¥
    â†“
[FE] POST /cases/{id}/parties â†’ ì‹ ê·œ API
    â†“
[BE] party_nodes í…Œì´ë¸” INSERT
    â†“
[FE] ë…¸ë“œ ì¶”ê°€ ë° ìº”ë²„ìŠ¤ ê°±ì‹ 
```

### 7.2 UC2: ì¬ì‚°ë¶„í•  ê³„ì‚° íë¦„

```
[ë³€í˜¸ì‚¬] "ì¬ì‚°ë¶„í• " íƒ­ í´ë¦­
    â†“
[FE] GET /cases/{id}/assets â†’ ì‹ ê·œ API
    â†“
[FE] ì¬ì‚°ë¶„í• í‘œ ë Œë”ë§
    â†“
[ë³€í˜¸ì‚¬] ìì‚° ì¶”ê°€/ìˆ˜ì •
    â†“
[FE] POST/PATCH /cases/{id}/assets
    â†“
[ë³€í˜¸ì‚¬] "ë¶„í•  ê³„ì‚°" ë²„íŠ¼ í´ë¦­
    â†“
[FE] POST /cases/{id}/assets/calculate
    â†“
[BE] ë¶„í•  ë¡œì§ ì‹¤í–‰
    â†“
[BE] division_ratio, settlement_amount ë°˜í™˜
    â†“
[FE] ê³„ì‚° ê²°ê³¼ í‘œì‹œ
```

---

## 8. UI Information Architecture

### 8.1 ì‚¬ê±´ ìƒì„¸ í˜ì´ì§€ íƒ­ êµ¬ì¡°

```
/lawyer/cases/{id}
â”œâ”€â”€ [íƒ­: ì¦ê±° íƒ€ì„ë¼ì¸] â† ê¸°ì¡´ SSOT (EvidenceTimeline)
â”œâ”€â”€ [íƒ­: ê´€ê³„ë„] â† ì‹ ê·œ (PartyRelationshipGraph)
â”œâ”€â”€ [íƒ­: ì¬ì‚°ë¶„í• ] â† ì‹ ê·œ [v1 optional]
â”œâ”€â”€ [íƒ­: ì ˆì°¨ ì§„í–‰] â† ì‹ ê·œ [v1 optional]
â”œâ”€â”€ [íƒ­: ì´ˆì•ˆ] â† ê¸°ì¡´ SSOT (DraftPreview)
â””â”€â”€ [íƒ­: ì„¤ì •] â† ê¸°ì¡´
```

### 8.2 ì»´í¬ë„ŒíŠ¸ ê³„ì¸µ êµ¬ì¡°

```
src/components/
â”œâ”€â”€ cases/                    # ê¸°ì¡´ SSOT
â”‚   â”œâ”€â”€ CaseHeader.tsx
â”‚   â”œâ”€â”€ CaseList.tsx
â”‚   â””â”€â”€ CaseTabs.tsx          # íƒ­ ë„¤ë¹„ê²Œì´ì…˜ (í™•ì¥)
â”‚
â”œâ”€â”€ evidence/                 # ê¸°ì¡´ SSOT
â”‚   â”œâ”€â”€ EvidenceTimeline.tsx
â”‚   â”œâ”€â”€ EvidenceCard.tsx
â”‚   â””â”€â”€ EvidenceDetailModal.tsx
â”‚
â”œâ”€â”€ party/                    # ì‹ ê·œ [v1]
â”‚   â”œâ”€â”€ PartyGraph.tsx        # React Flow ìº”ë²„ìŠ¤
â”‚   â”œâ”€â”€ PartyNode.tsx         # ì»¤ìŠ¤í…€ ë…¸ë“œ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ PartyEdge.tsx         # ì»¤ìŠ¤í…€ ì—£ì§€ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ PartyModal.tsx        # ë‹¹ì‚¬ì ì¶”ê°€/í¸ì§‘ ëª¨ë‹¬
â”‚   â””â”€â”€ RelationshipModal.tsx # ê´€ê³„ í¸ì§‘ ëª¨ë‹¬
â”‚
â”œâ”€â”€ assets/                   # ì‹ ê·œ [v1 optional]
â”‚   â”œâ”€â”€ AssetSheet.tsx        # ìŠ¤í”„ë ˆë“œì‹œíŠ¸ ë·°
â”‚   â”œâ”€â”€ AssetRow.tsx          # ìì‚° í–‰ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ AssetModal.tsx        # ìì‚° ì¶”ê°€/í¸ì§‘ ëª¨ë‹¬
â”‚   â””â”€â”€ DivisionSummary.tsx   # ë¶„í•  ê³„ì‚° ê²°ê³¼
â”‚
â”œâ”€â”€ procedure/                # ì‹ ê·œ [v1 optional]
â”‚   â”œâ”€â”€ ProcedureTimeline.tsx # ì ˆì°¨ íƒ€ì„ë¼ì¸
â”‚   â”œâ”€â”€ StageCard.tsx         # ë‹¨ê³„ ì¹´ë“œ
â”‚   â””â”€â”€ StageModal.tsx        # ë‹¨ê³„ ìƒì„¸/í¸ì§‘ ëª¨ë‹¬
â”‚
â””â”€â”€ draft/                    # ê¸°ì¡´ SSOT
    â”œâ”€â”€ DraftPreview.tsx
    â””â”€â”€ CitationList.tsx
```

---

## 9. API Outline (ì‹ ê·œ ì—”ë“œí¬ì¸íŠ¸)

### 9.0 ì¸ì¦/ì¸ê°€ ëª¨ë¸

ëª¨ë“  ì‹ ê·œ APIëŠ” ê¸°ì¡´ `case_members` í…Œì´ë¸” ê¸°ë°˜ ê¶Œí•œ ê²€ì¦ì„ ì¬ì‚¬ìš©í•œë‹¤:

| Role | Party/Relationship | Asset | Procedure |
|------|-------------------|-------|-----------|
| **OWNER** | Read/Write | Read/Write | Read/Write |
| **MEMBER** | Read/Write | Read/Write | Read/Write |
| **VIEWER** | Read-only | Read-only | Read-only |

- ê¶Œí•œ ê²€ì¦: `get_current_user_id()` + `case_members` ì¡°íšŒ
- ë¯¸ì¸ê°€ ìš”ì²­: HTTP 403 Forbidden

### 9.1 Party (ë‹¹ì‚¬ì) API

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| `GET` | `/cases/{case_id}/parties` | ì‚¬ê±´ì˜ ëª¨ë“  ë‹¹ì‚¬ì ì¡°íšŒ |
| `POST` | `/cases/{case_id}/parties` | ë‹¹ì‚¬ì ì¶”ê°€ |
| `PATCH` | `/cases/{case_id}/parties/{party_id}` | ë‹¹ì‚¬ì ìˆ˜ì • |
| `DELETE` | `/cases/{case_id}/parties/{party_id}` | ë‹¹ì‚¬ì ì‚­ì œ |

### 9.2 Relationship (ê´€ê³„) API

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| `GET` | `/cases/{case_id}/relationships` | ì‚¬ê±´ì˜ ëª¨ë“  ê´€ê³„ ì¡°íšŒ |
| `POST` | `/cases/{case_id}/relationships` | ê´€ê³„ ì¶”ê°€ |
| `PATCH` | `/cases/{case_id}/relationships/{rel_id}` | ê´€ê³„ ìˆ˜ì • |
| `DELETE` | `/cases/{case_id}/relationships/{rel_id}` | ê´€ê³„ ì‚­ì œ |

### 9.3 Asset (ì¬ì‚°) API [v1 optional]

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| `GET` | `/cases/{case_id}/assets` | ì‚¬ê±´ì˜ ëª¨ë“  ìì‚° ì¡°íšŒ |
| `POST` | `/cases/{case_id}/assets` | ìì‚° ì¶”ê°€ |
| `PATCH` | `/cases/{case_id}/assets/{asset_id}` | ìì‚° ìˆ˜ì • |
| `DELETE` | `/cases/{case_id}/assets/{asset_id}` | ìì‚° ì‚­ì œ |
| `POST` | `/cases/{case_id}/assets/calculate` | ë¶„í•  ê³„ì‚° ì‹¤í–‰ |
| `GET` | `/cases/{case_id}/assets/export` | Excel ë‚´ë³´ë‚´ê¸° |

### 9.4 Procedure (ì ˆì°¨) API [v1 optional]

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| `GET` | `/cases/{case_id}/procedure` | ì‚¬ê±´ì˜ ì ˆì°¨ ë‹¨ê³„ ì¡°íšŒ |
| `POST` | `/cases/{case_id}/procedure` | ì ˆì°¨ ë‹¨ê³„ ì¶”ê°€/ì—…ë°ì´íŠ¸ |
| `PATCH` | `/cases/{case_id}/procedure/{stage_id}` | ë‹¨ê³„ ìƒì„¸ ìˆ˜ì • |

### 9.5 Evidence-Party Link API

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| `POST` | `/evidence/{evidence_id}/link` | ì¦ê±°-ë‹¹ì‚¬ì/ê´€ê³„/ìì‚° ì—°ê²° |
| `DELETE` | `/evidence/{evidence_id}/link/{link_id}` | ì—°ê²° í•´ì œ |
| `GET` | `/cases/{case_id}/parties/{party_id}/evidence` | ë‹¹ì‚¬ì ì—°ê²° ì¦ê±° ì¡°íšŒ |

---

## 10. AI Assist Design [v2 proposal]

### 10.1 ê´€ê³„ë„ ìë™ ìƒì„± (v2)

```
[ì¦ê±° ì—…ë¡œë“œ]
    â†“
[AI Worker] í™”ì/ì¸ë¬¼ ì¶”ì¶œ
    â†“
[AI Worker] ê´€ê³„ ì¶”ë¡  (ë¶ˆë¥œ, ì¹œì¡± ë“±)
    â†“
[DynamoDB] linked_party_ids ìë™ ì—…ë°ì´íŠ¸
    â†“
[FE] ê´€ê³„ë„ ë…¸ë“œ ì œì•ˆ í‘œì‹œ
```

### 10.2 ì¬ì‚°ë¶„í•  ì¦ê±° ì—°ê²° (v2)

```
[ì¦ê±°: ë¶€ë™ì‚° ë“±ê¸°ë¶€ë“±ë³¸ OCR]
    â†“
[AI Worker] ë¶€ë™ì‚° ì •ë³´ ì¶”ì¶œ (ì£¼ì†Œ, ë©´ì , ì†Œìœ ì)
    â†“
[AI Worker] assets í…Œì´ë¸” ìë™ ìƒì„± ì œì•ˆ
    â†“
[FE] "ì¬ì‚°ë¶„í• í‘œì— ì¶”ê°€í•˜ì‹œê² ìŠµë‹ˆê¹Œ?" í† ìŠ¤íŠ¸
```

---

## 11. Success Criteria

| ì§€í‘œ | ëª©í‘œ | ì¸¡ì • ë°©ë²• |
|------|------|----------|
| **SC-001** | ê´€ê³„ë„ í˜ì´ì§€ ë¡œë”© < 2ì´ˆ | Lighthouse Performance |
| **SC-002** | ê´€ê³„ë„ ë…¸ë“œ 50ê°œê¹Œì§€ ì›í™œ ë Œë”ë§ | React Flow ë²¤ì¹˜ë§ˆí¬ |
| **SC-003** | ì¬ì‚°ë¶„í•  ê³„ì‚° ì •í™•ë„ 100% | ìˆ˜ë™ ê²€ì¦ í…ŒìŠ¤íŠ¸ |
| **SC-004** | ì ˆì°¨ ë‹¨ê³„ ì „í™˜ ì˜¤ë¥˜ 0ê±´ | E2E í…ŒìŠ¤íŠ¸ |
| **SC-005** | API ì‘ë‹µì‹œê°„ < 500ms (p95) | CloudWatch ë©”íŠ¸ë¦­ |

---

## 12. êµ¬í˜„ ìš°ì„ ìˆœìœ„

### Phase 1: MVP (v1 í•„ìˆ˜)

**MVP Scope:** Party Relationship Graph ì „ì²´ êµ¬í˜„
- DB í…Œì´ë¸” ìƒì„± (party_nodes, party_relationships, evidence_party_links)
- API ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„ (Party, Relationship, Evidence-Link)
- React Flow ì»´í¬ë„ŒíŠ¸ ê°œë°œ
- ì¦ê±°-ë‹¹ì‚¬ì ì—°ê²° ê¸°ëŠ¥

**MVP ì™„ë£Œ ê¸°ì¤€:** Party Graphê°€ ì™„ì „íˆ ë™ì‘í•˜ê³  í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•´ì•¼ Phase 2 ì§„í–‰

### Phase 2: Stretch Goals (v1 optional)

> âš ï¸ **ì¡°ê±´ë¶€ êµ¬í˜„:** Phase 1 ì™„ë£Œ í›„ ì‹œê°„ì´ í—ˆìš©ë˜ëŠ” ê²½ìš°ì—ë§Œ ì§„í–‰

2. **Financial Asset Sheet** ê¸°ë³¸ êµ¬í˜„
   - ìì‚° CRUD
   - ë¶„í•  ê³„ì‚° ë¡œì§
   - Excel ë‚´ë³´ë‚´ê¸°

3. **Procedure Stage Model** ê¸°ë³¸ êµ¬í˜„
   - ì ˆì°¨ ë‹¨ê³„ CRUD
   - íƒ€ì„ë¼ì¸ ì‹œê°í™”

### Phase 3: Deferred (v2 proposal)

> ğŸš« **v1 ë²”ìœ„ ì™¸:** ì´ ë¸Œëœì¹˜ì—ì„œ êµ¬í˜„í•˜ì§€ ì•ŠìŒ

4. AI ìë™ ê´€ê³„ ì¶”ë¡ 
5. AI ì¬ì‚° ì •ë³´ ì¶”ì¶œ
6. ì´ˆì•ˆ ìƒì„± ì‹œ ê´€ê³„ë„/ì¬ì‚°ë¶„í•  ìë™ ì¸ìš©

---

## 13. ê¸°ìˆ  ì˜ì¡´ì„±

### 13.1 ì‹ ê·œ íŒ¨í‚¤ì§€ (Frontend)

```json
{
  "dependencies": {
    "@xyflow/react": "^12.0.0",
    "xlsx": "^0.18.5"
  }
}
```

### 13.2 Backend ì¶”ê°€ ê³ ë ¤ì‚¬í•­

- Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ìœ¼ë¡œ ì‹ ê·œ í…Œì´ë¸” ìƒì„±
- ê¸°ì¡´ cases í…Œì´ë¸”ê³¼ FK ê´€ê³„ ì„¤ì •
- ê¶Œí•œ ê²€ì¦ (case_members í™•ì¸)

---

## 14. ë¦¬ìŠ¤í¬ ë° ëŒ€ì‘

| ë¦¬ìŠ¤í¬ | ì˜í–¥ | ëŒ€ì‘ ë°©ì•ˆ |
|--------|------|----------|
| React Flow ì„±ëŠ¥ ì´ìŠˆ (ëŒ€ëŸ‰ ë…¸ë“œ) | ì¤‘ê°„ | ê°€ìƒí™”, ë…¸ë“œ ê·¸ë£¹í•‘ |
| ì¬ì‚°ë¶„í•  ë²•ë¥  ë³€ê²½ | ë‚®ìŒ | ê³„ì‚° ë¡œì§ íŒŒë¼ë¯¸í„°í™” |
| DynamoDB í™•ì¥ í•„ë“œ í˜¸í™˜ì„± | ë‚®ìŒ | optional í•„ë“œë¡œ ì„¤ê³„ |

---

## 15. References

- [React Flow Documentation](https://reactflow.dev/)
- [í•œêµ­ ë¯¼ë²• ì œ840ì¡° (ì¬íŒìƒ ì´í˜¼ì›ì¸)](https://www.law.go.kr/ë²•ë ¹/ë¯¼ë²•/ì œ840ì¡°)
- [ê°€ì‚¬ì†Œì†¡ë²•](https://www.law.go.kr/ë²•ë ¹/ê°€ì‚¬ì†Œì†¡ë²•)
- CHAGOK SSOT: `docs/specs/PRD.md`, `docs/specs/ARCHITECTURE.md`, `docs/specs/API_SPEC.md`, `docs/specs/FRONTEND_SPEC.md`

---

**END OF SPEC.md**
