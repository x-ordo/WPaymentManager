# DRAFT_MAPPING (v2.02)

## 0) 목표
사용자가 업로드한 증거를 **G1~G6 사유(민법 840조)**와 연결하고,
- (a) “무슨 포인트를 더 입증해야 하는지”를 보여주고
- (b) “그 포인트를 어떤 증거로 메울지”를 제안하고
- (c) “소장/준비서면/협의서 초안의 문단”으로 자동 배치하는 것

특히 UI 요구사항(법적 근거 탭 / 타임라인 / 초안 탭 / 증거정리 탭(상태))과 맞물리도록 설계한다.

## 1) 문서(초안) 기본 골격
### 1.1 재판상 이혼 소장(기본)
- 청구취지
- 청구원인
  - 1) 혼인 및 가족관계
  - 2) 혼인파탄 경위(타임라인)
  - 3) 이혼사유(840조) 및 구성요건 충족
  - 4) 위자료(있다면)
  - 5) 재산분할(있다면)
  - 6) 친권/양육권 및 양육비(자녀 있으면)
- 입증방법(증거목록: 갑/을)
- 결론

### 1.2 협의이혼 합의서(자녀/재산 포함)
- 당사자 인적사항
- 이혼의 합의(확인서 수령 이후 신고 의무/기한 안내)
- 친권/양육권/면접교섭/양육비(자녀 있을 때)
- 재산분할 합의(적극재산/소극재산/특유재산 처리 포함)
- 위자료 합의(있다면)
- 기타(채무, 보험, 퇴직금, 명의신탁 가능성 등)

## 2) “증거 → 핵심포인트 → 문단” 매핑 규칙
### 2.1 Evidence → KeyPoint
- Evidence는 ‘파일’이 아니라 ‘사실 주장(Fact Claim)’을 지지하는 증거다.
- 따라서 Evidence는 업로드 순간 바로 “파일태그”를 붙이되, **검토 상태(status)** 를 가진다.
- 검토 완료된 Evidence만 Draft에 자동 삽입한다(미검토는 보류).

### 2.2 KeyPoint → DraftBlock
- DraftBlock은 문단 단위(서술 + 법적 평가 + 입증방법)를 갖는다.
- DraftBlock은 다음 메타를 가진다:
  - applies_to: [G1..G6, property_division, alimony, child_support]
  - required_keypoints: [KP-ids...]
  - precedent_refs: [case_ids...]
  - citation_slots: [‘민법840-1’, ‘대법원2013므568’ …]

## 3) G1~G6 핵심포인트(요약)
> 실제 리스트/매핑은 data/ground_draft_map.json 참고

- G1(부정행위): “정조의무 위반 정황” + “혼인파탄 인과” + “제척기간 입력값(인지일/발생일)”
- G2(악의의 유기): “동거·부양 의무 불이행의 지속” + “정당한 이유 없음”
- G3(부당대우): “행위의 존재(폭행/폭언/학대)” + “반복/강도/공포” + “객관자료(진단서/신고)”
- G4(직계존속 부당대우): “피해자=원고 직계존속” + “부당대우” + “혼인파탄 기여”
- G5(생사불명): “3년 이상 소재 불명” + “수색/송달불능 등 객관자료”
- G6(기타 중대사유): “회복불능 파탄” + “종합사정(기간/자녀/책임/생활보장)”

## 4) 판례 라이브러리 적용
판례는 “사실인정”이 아니라 “법적 판단 틀(테스트)”로 쓴다.
- 유책배우자 이혼청구 예외(테스트)
- 제척기간 적용/비적용(테스트)
- 특유재산·명의신탁 재산분할 포함(테스트)

## 5) detail/case 페이지 적용(요약)
- 법적 근거 탭: G1~G6 각각에 (1) 충족율, (2) 부족한 KeyPoint, (3) 연결된 Evidence 개수
- 증거 정리 탭: G1~G6 폴더 + 파일 status(미검토/검토완료/증거적합)
- 타임라인 뷰: 사건진행(조정/판결/확정/신고) + 사유발생/인지/제척만료 + 증거발생일
- 초안 탭: DraftBlock 단위로 자동 생성(근거/증거/판례/법조항 링크)
