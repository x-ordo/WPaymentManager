# CHAGOK 프로젝트 아키텍처 가이드

> **대상 독자**: 주니어 개발자 (기본 개발 가능, 아키텍처 경험이 적은 분)
> **목적**: CHAGOK 프로젝트의 전체 구조를 이해하고, 각 컴포넌트가 어떻게 연결되는지 파악

---

## 이 가이드에서 배울 내용

1. **프로젝트가 어떤 폴더 구조로 되어있는지** - 코드를 어디서 찾아야 하는지
2. **3-Tier 아키텍처가 무엇인지** - Frontend, Backend, AI Worker가 각각 무슨 역할을 하는지
3. **Clean Architecture 패턴** - 왜 코드를 Router → Service → Repository로 나누는지
4. **데이터가 어떻게 흘러가는지** - 사용자 요청부터 AI 분석까지
5. **CI/CD 파이프라인** - 코드가 어떻게 자동으로 배포되는지
6. **인증/보안 구조** - 로그인부터 권한 체크까지

---

## 문서 목차

| 순서 | 문서 | 설명 | 난이도 |
|------|------|------|--------|
| 1 | [프로젝트 구조](01-PROJECT_STRUCTURE.md) | 폴더 구조와 각 디렉토리의 역할 | ⭐ |
| 2 | [3-Tier 아키텍처](02-THREE_TIER_ARCHITECTURE.md) | Frontend, Backend, AI Worker 개요 | ⭐⭐ |
| 3 | [백엔드 패턴](03-BACKEND_PATTERNS.md) | Clean Architecture와 DI 패턴 | ⭐⭐⭐ |
| 4 | [데이터 흐름](04-DATA_FLOW.md) | 증거 업로드부터 초안 생성까지 | ⭐⭐ |
| 5 | [CI/CD 파이프라인](05-CICD_PIPELINE.md) | GitHub Actions 배포 자동화 | ⭐⭐ |
| 6 | [보안 및 인증](06-SECURITY_AUTH.md) | JWT 인증과 역할 기반 권한 | ⭐⭐⭐ |

---

## CHAGOK 프로젝트란?

**CHAGOK (CHAGOK)**는 이혼 소송을 위한 AI 기반 법률 증거 관리 시스템입니다.

### 핵심 기능
- 📁 **증거 업로드**: 이미지, 오디오, 비디오, PDF, 텍스트 파일 업로드
- 🤖 **AI 분석**: 증거 자동 분석 (OCR, STT, 요약, 라벨링)
- 📝 **초안 생성**: AI가 법률 문서 초안 작성 (변호사 검토 필요)
- 🔍 **RAG 검색**: 유사 판례 및 관련 증거 검색

### 기술 스택 요약

```
┌─────────────────────────────────────────────────────────────┐
│                        FRONTEND                              │
│  Next.js 14 + React 18 + TypeScript + Tailwind CSS          │
│  (CloudFront + S3에서 호스팅)                                │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼ HTTP/REST API
┌─────────────────────────────────────────────────────────────┐
│                        BACKEND                               │
│  FastAPI + Python 3.11 + SQLAlchemy                         │
│  (AWS Lambda에서 실행)                                       │
└─────────────────────────────────────────────────────────────┘
                              │
              ┌───────────────┼───────────────┐
              ▼               ▼               ▼
┌──────────────────┐ ┌──────────────┐ ┌──────────────┐
│   PostgreSQL     │ │   DynamoDB   │ │    Qdrant    │
│   (RDS)          │ │  (증거 메타) │ │  (벡터 검색) │
└──────────────────┘ └──────────────┘ └──────────────┘
                              │
                              ▼ S3 Event Trigger
┌─────────────────────────────────────────────────────────────┐
│                       AI WORKER                              │
│  Python 3.11 + OpenAI (GPT-4o, Whisper) + Qdrant            │
│  (AWS Lambda에서 실행, S3 업로드 시 자동 트리거)             │
└─────────────────────────────────────────────────────────────┘
```

---

## 읽는 순서 권장

### 처음 프로젝트를 접하는 경우
1. [프로젝트 구조](01-PROJECT_STRUCTURE.md) → 어디에 뭐가 있는지 파악
2. [3-Tier 아키텍처](02-THREE_TIER_ARCHITECTURE.md) → 전체 그림 이해
3. [데이터 흐름](04-DATA_FLOW.md) → 실제 동작 방식 이해

### 백엔드 개발을 할 경우
1. [프로젝트 구조](01-PROJECT_STRUCTURE.md) → backend/ 폴더 중점
2. [백엔드 패턴](03-BACKEND_PATTERNS.md) → 코드 작성 규칙 이해
3. [보안 및 인증](06-SECURITY_AUTH.md) → 인증 처리 방식

### DevOps/배포에 관심 있는 경우
1. [프로젝트 구조](01-PROJECT_STRUCTURE.md) → .github/, infrastructure/ 확인
2. [CI/CD 파이프라인](05-CICD_PIPELINE.md) → 배포 자동화 이해

---

## 핵심 원칙 (꼭 기억하세요!)

### 1. Case Isolation (케이스 격리)
각 소송 케이스는 완전히 분리되어 있습니다. 케이스 A의 증거가 케이스 B에서 검색되면 안 됩니다.

### 2. Preview Only (미리보기 전용)
AI가 생성한 초안은 자동 제출되지 않습니다. 반드시 변호사가 검토/수정해야 합니다.

### 3. Stateless Backend (상태 없는 백엔드)
백엔드 서버는 상태를 저장하지 않습니다. 모든 데이터는 RDS, DynamoDB, Qdrant에 저장됩니다.

### 4. Event-Driven AI (이벤트 기반 AI)
AI Worker는 S3에 파일이 업로드되면 자동으로 실행됩니다. 백엔드가 직접 호출하지 않습니다.

---

## 용어 정리

| 용어 | 설명 |
|------|------|
| **3-Tier Architecture** | Frontend, Backend, Database를 분리하는 설계 방식 |
| **Clean Architecture** | 비즈니스 로직을 외부 의존성으로부터 분리하는 설계 패턴 |
| **DI (Dependency Injection)** | 필요한 객체를 외부에서 주입받는 방식 |
| **JWT (JSON Web Token)** | 사용자 인증 정보를 담은 암호화된 토큰 |
| **RAG (Retrieval-Augmented Generation)** | 검색 결과를 활용해 AI 응답을 생성하는 기법 |
| **Lambda** | AWS의 서버리스 컴퓨팅 서비스 (서버 관리 불필요) |
| **S3** | AWS의 파일 저장 서비스 |
| **DynamoDB** | AWS의 NoSQL 데이터베이스 |
| **Qdrant** | 벡터 유사도 검색을 위한 데이터베이스 |
| **CI/CD** | 코드 변경을 자동으로 테스트하고 배포하는 파이프라인 |

---

## 도움이 필요하면?

- **CLAUDE.md** 파일: 프로젝트 전체 가이드라인
- **docs/specs/** 폴더: 상세 설계 문서
- **docs/guides/** 폴더: 개발 가이드

---

*이 문서는 CHAGOK 프로젝트의 아키텍처를 이해하기 위한 시작점입니다. 각 하위 문서를 순서대로 읽으면 전체 그림을 파악할 수 있습니다.*
